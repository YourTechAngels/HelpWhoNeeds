(this["webpackJsonpyta-helpwhoneeds-frontend"]=this["webpackJsonpyta-helpwhoneeds-frontend"]||[]).push([[0],{542:function(e,t,a){},543:function(e,t,a){},586:function(e,t){},588:function(e,t){},599:function(e,t){},601:function(e,t){},628:function(e,t){},630:function(e,t){},631:function(e,t){},636:function(e,t){},638:function(e,t){},657:function(e,t){},669:function(e,t){},672:function(e,t){},930:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a(0),i=a.n(s),r=a(18),c=a.n(r),o=(a(542),a(543),a(23)),l=a.n(o),d=a(39),u=a(14),j=a(19),p=a(375),b=a(526),h=a(376),m=a(377),O=a(957),x=a(958),f=a(378),g=a(103),y=a(309),v=a(308),k=a(512),w=a(379),C=a(511),T=a.n(C),D=a(33),S=a(27),N=a(510),I=(a(545),N.a.initializeApp({apiKey:"AIzaSyAQD-Hez1rIIaIlTYomLubx8QCfjmH9iNQ",authDomain:"helpwhoneeds-dev.firebaseapp.com",projectId:"helpwhoneeds-dev",storageBucket:"helpwhoneeds-dev.appspot.com",messagingSenderId:"610243223694",appId:"1:610243223694:web:2fc8ba826f29471e54e9df"})),P=I.auth(),R=i.a.createContext();function F(){return Object(s.useContext)(R)}function A(e){var t=e.children,a=Object(s.useState)(),i=Object(u.a)(a,2),r=i[0],c=i[1],o=Object(s.useState)(!0),l=Object(u.a)(o,2),d=l[0],j=l[1];Object(s.useEffect)((function(){return P.onAuthStateChanged((function(e){c(e),j(!1)}))}),[]);var p={currentUser:r,login:function(e,t){return P.signInWithEmailAndPassword(e,t)},signup:function(e,t){return P.createUserWithEmailAndPassword(e,t)},signout:function(){return P.signOut()},resetPassword:function(e){return P.sendPasswordResetEmail(e)},updateEmail:function(e){return r.updateEmail(e)},updatePassword:function(e){return r.updatePassword(e)}};return Object(n.jsx)(R.Provider,{value:p,children:!d&&t})}var W=Object(p.a)((function(e){return{root:{flexGrow:1,"& > svg":{margin:e.spacing(2)}},title:{flexGrow:1},appBar:{backgroundColor:"#9370db"}}}));function H(e){return Object(n.jsx)(b.a,Object(j.a)(Object(j.a)({},e),{},{children:Object(n.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})}))}var L=function(){var e=W(),t=F(),a=t.currentUser,r=t.signout,c=i.a.useState(!1),o=Object(u.a)(c,2),j=o[0],p=o[1],b=i.a.useState(null),C=Object(u.a)(b,2),N=C[0],I=C[1];Object(s.useEffect)((function(){p(null!==a)}),[a]),a&&(console.log(a.email),console.log(a.uid)),console.log("auth"+j);var P=Boolean(N),R=Object(D.g)(),A=function(){I(null)};function L(){return(L=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r();case 3:p(!1),R.push("/HelpWhoNeeds"),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),p(null!==a),console.log(e.t0),alert("failed to log out");case 12:console.log("auth"+j),A();case 14:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(h.a,{children:Object(n.jsx)(m.a,{control:Object(n.jsx)(O.a,{checked:j,onChange:function(e){p(e.target.checked)},"aria-label":"login switch"}),label:j?"Logout":"Login"})}),Object(n.jsx)(x.a,{position:"static",className:e.appBar,children:Object(n.jsxs)(f.a,{children:[Object(n.jsx)(H,{color:"action",fontSize:"large",onClick:function(e){return window.location.href="/HelpWhoNeeds/"}}),Object(n.jsx)(g.a,{variant:"h6",className:e.title,children:"Help Who Needs"}),Object(n.jsx)(y.a,{color:"inherit",component:S.b,to:"/about",children:"About"}),Object(n.jsx)(y.a,{color:"inherit",component:S.b,to:"/contact",children:"Contact"}),j&&Object(n.jsxs)("div",{children:[Object(n.jsx)(v.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){I(e.currentTarget)},color:"inherit",children:Object(n.jsx)(T.a,{})}),Object(n.jsxs)(k.a,{id:"menu-appbar",anchorEl:N,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:P,onClose:A,children:[Object(n.jsx)(w.a,{onClick:function(){R.push("/profile"),A()},children:"Profile"}),Object(n.jsx)(w.a,{onClick:function(){return L.apply(this,arguments)},children:"Sign Out"})]})]})]})})]})},B=Object(p.a)({button:{margin:"10px"},pInfo:{textAlign:"center"},divContentWrapper:{textAlign:"center",minHeight:"100%",paddingLeft:"50px"}}),E=function(){var e=B(),t=F().currentUser,a=Object(D.g)();return Object(n.jsxs)("div",{className:e.divContentWrapper,children:[Object(n.jsx)("h1",{children:"Help Who Needs"}),Object(n.jsx)("p",{children:"Our TechForGood project aims to match a volunteer with a vulnerable person who is shielding in these unprecedented times. Hence our application is called HelpWhoNeeds. The app will aim to match a volunteer with a vulnerable person in their immediate local area helping with chores such as shopping, GP visits, prescriptions, dog walking or just some social contact with the appropriate measures in place. We hope this app brings some comfort and relief to the users with a sense of moral and social obligation."}),Object(n.jsxs)("p",{className:e.pInfo,children:[" If you would like help or need any assistance using our system, please call ",Object(n.jsx)("strong",{children:"0800 123 4567"}),"."]}),Object(n.jsx)(y.a,{className:e.button,variant:"outlined",color:"default",onClick:function(){t?a.push("/addTask"):a.push("/login/AssistanceRequester")},children:"I need Help"}),Object(n.jsx)(y.a,{className:e.button,variant:"outlined",color:"default",onClick:function(){t?a.push("/myTask"):a.push("/login/Volunteer")},children:"I can Help"})]})},M=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"This is the Legal Page"}),Object(n.jsx)("p",{children:"End-user privacy. Intellectual property (IP) rights. Advertising and promotions. Users of this app must be 18 or over."})]})},q=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"This is the Cookie Page"}),Object(n.jsx)("p",{children:"Cookie Policy"})]})},U=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"This is the Support Page"}),Object(n.jsx)("p",{children:"Add the Support form"})]})},z=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"This is the Terms Page"}),Object(n.jsx)("p",{children:"Add the form"})]})},Y=a(960),V=Object(p.a)({button:{margin:"10px"},pInfo:{textAlign:"center"},divContentWrapper:{textAlign:"center",minHeight:"100%",paddingLeft:"50px"}}),G=function(){var e=V();return Object(n.jsxs)("div",{className:e.divContentWrapper,children:[Object(n.jsx)("h1",{children:"YourTechAngels - Project HelpWhoNeeds"}),Object(n.jsx)("p",{children:"Established in 2020, Your Tech Angels is a collaborative team of 4 engineers who are involved and interested in technology.  Our aim is to use technology to help others especially during the Covid 19 pandemic. This is the motivation behind our HelpWhoNeeds project that assists the shielding population in the UK with everyday assistance such as delivering groceries or prescriptions, dog walking or even just a chat. The app we are building will help those who need to find a volunteer match in their local areas - near their vicinity based on their post code during lockdown and other times too."}),Object(n.jsxs)("p",{className:e.pInfo,children:[" You can request Volunteer help 24x7 - ",Object(n.jsx)("strong",{children:"0800 123 4567"})]}),Object(n.jsxs)(Y.a,{container:!0,direction:"row",alignItems:"center",spacing:3,children:[Object(n.jsxs)(Y.a,{container:!0,item:!0,xs:2,spacing:3,children:[Object(n.jsx)(S.b,{to:"/legal",variant:"body2",children:"Legal"})," "]}),Object(n.jsxs)(Y.a,{container:!0,item:!0,xs:2,spacing:3,children:[Object(n.jsx)(S.b,{to:"/cookie",variant:"body2",children:"Cookie"})," "]}),Object(n.jsxs)(Y.a,{container:!0,item:!0,xs:2,spacing:3,children:[Object(n.jsx)(S.b,{to:"/support",variant:"body2",children:"Support"})," "]}),Object(n.jsxs)(Y.a,{container:!0,item:!0,xs:2,spacing:3,children:[Object(n.jsx)(S.b,{to:"/termCondition",variant:"body2",children:"Terms Conditions"})," "]}),Object(n.jsxs)(Y.a,{container:!0,item:!0,xs:2,spacing:3,children:[Object(n.jsx)(S.b,{to:"/contact",variant:"body2",children:"Contact"})," "]})]})]})},_=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"This is the Contact Page"}),Object(n.jsx)("p",{children:"Add the Contact form"})]})},J=Object(p.a)({footer:{boxSizing:"border-box",height:"50px",padding:"15px",backgroundColor:"#eee",borderTop:"1px solid #e0e0e0",position:"absolute",width:"100%",textAlign:"center"}});var K=function(){var e=J();return Object(n.jsx)("footer",{className:e.footer,children:Object(n.jsxs)("div",{children:["Made by ",Object(n.jsx)("a",{href:"https://github.com/YourTechAngels",children:"YourTechAngels"})]})})},Q=a(973),X=a(962),Z=a(380),$=a(503),ee=a(971),te=a(963),ae=a(307),ne=a(143),se=a.n(ne),ie=a(961);function re(){return Object(n.jsxs)(g.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(S.b,{color:"inherit",to:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var ce=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function oe(){var e=ce(),t=Object(D.h)().userType,a=Object(s.useRef)(),i=Object(s.useRef)(),r=F(),c=r.login,o=r.currentUser,j=Object(s.useState)(""),p=Object(u.a)(j,2),b=p[0],h=p[1],O=Object(s.useState)(""),x=Object(u.a)(O,2),f=x[0],v=x[1],k=Object(s.useState)(""),w=Object(u.a)(k,2),C=w[0],T=w[1],N=Object(s.useState)(!1),I=Object(u.a)(N,2),P=I[0],R=I[1],A=Object(D.g)(),W="AssistanceRequester"==="".concat(t)?"Requestee":"".concat(t);function H(){return(H=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,h(""),R(!0),e.next=6,c(a.current.value,i.current.value);case 6:"Volunteer"==="".concat(t)?(A.push("/myTask"),console.log("/HelpWhoNeeds")):A.push("/addTask"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),h("Failed to log in");case 12:R(!1),o&&(v(o.email),T(o.ui),console.log(f),console.log(C));case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(n.jsxs)(ie.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(X.a,{}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(Q.a,{className:e.avatar,children:Object(n.jsx)(se.a,{})}),Object(n.jsxs)(g.a,{component:"h1",variant:"h5",children:[W," Sign in"]}),b&&Object(n.jsx)(ee.a,{severity:"error",children:Object(n.jsxs)(te.a,{children:["Error: ",b]})}),Object(n.jsxs)("form",{onSubmit:function(e){return H.apply(this,arguments)},children:[Object(n.jsx)(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"email",inputRef:a,id:"email",label:"Email Address",autoFocus:!0}),Object(n.jsx)(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"password",inputRef:i,label:"Password",id:"password"}),Object(n.jsx)(m.a,{control:Object(n.jsx)($.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(n.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:P,children:"Sign In"}),Object(n.jsxs)(Y.a,{container:!0,children:[Object(n.jsx)(Y.a,{item:!0,xs:!0,children:Object(n.jsx)(S.b,{to:"/forgotPassword/".concat(t),variant:"body2",children:"Forgot password?"})}),Object(n.jsx)(Y.a,{container:!0,children:Object(n.jsx)(Y.a,{item:!0,xs:!0,children:Object(n.jsxs)("div",{className:"w-100 text-center mt-2",children:["New User ?",Object(n.jsx)(S.b,{to:"/signUp/".concat(t),variant:"body2",children:"Sign Up "})]})})})]})]})]}),Object(n.jsx)(ae.a,{mt:8,children:Object(n.jsx)(re,{})})]})}function le(){return Object(n.jsxs)(g.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(S.b,{color:"inherit",to:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var de=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ue(){var e=Object(s.useRef)(),t=Object(s.useRef)(),a=Object(s.useRef)(),i=F().signup,r=Object(s.useState)(""),c=Object(u.a)(r,2),o=c[0],j=c[1],p=Object(s.useState)(!1),b=Object(u.a)(p,2),h=b[0],m=b[1],O=Object(D.g)(),x=de(),f=Object(D.h)().user;function v(){return(v=Object(d.a)(l.a.mark((function n(s){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s.preventDefault(),console.log(e.current.value,t.current.value,a.current.value),t.current.value===a.current.value){n.next=4;break}return n.abrupt("return",j("Passwords does not match"));case 4:return n.prev=4,j(""),m(!0),n.next=9,i(e.current.value,t.current.value);case 9:O.push("/registrationPage/".concat(f)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),j("Failed to create an account");case 15:m(!1);case 16:case"end":return n.stop()}}),n,null,[[4,12]])})))).apply(this,arguments)}return Object(n.jsxs)(ie.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(X.a,{}),Object(n.jsxs)("div",{className:x.paper,children:[Object(n.jsx)(Q.a,{className:x.avatar,children:Object(n.jsx)(se.a,{})}),Object(n.jsx)(g.a,{component:"h1",variant:"h5",children:"Sign Up"}),o&&Object(n.jsx)(ee.a,{severity:"error",children:Object(n.jsxs)(te.a,{children:["Error: ",o]})}),Object(n.jsxs)("form",{onSubmit:function(e){return v.apply(this,arguments)},children:[Object(n.jsx)(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"email",inputRef:e,id:"email",label:"Email Address",autoFocus:!0}),Object(n.jsx)(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"password",inputRef:t,label:"Password",id:"password"}),Object(n.jsx)(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"password",inputRef:a,label:"Confirm Password",id:"passwordConfirm"}),Object(n.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",disabled:h,color:"primary",children:"Sign Up"})]})]}),"  ",Object(n.jsx)(ae.a,{mt:8,children:Object(n.jsx)(le,{})})]})}var je=a(61),pe=a(964),be={textFld:{width:"85%",height:40,paddingLeft:8},button:{border:"4px",fontWeight:"bold",alignItems:"center",marginRight:"20px"}};function he(e){var t=Object(s.useState)({initialInputState:{firstName:"",lastName:"",DateOfBirth:"",postcode:"",address1:"",address2:"",city:"",county:"",email:""}}),a=Object(u.a)(t,2),r=a[0],c=a[1],o=r.firstName,p=r.lastName,b=r.DateOfBirth,h=r.postcode,O=r.address1,x=r.address2,f=r.city,g=r.county,v=r.email,k=Object(s.useState)(""),w=Object(u.a)(k,2),C=w[0],T=w[1],N=function(e){c(Object(j.a)(Object(j.a)({},r),{},Object(je.a)({},e.target.name,e.target.value)))},I=Object(s.useRef)(),P=Object(s.useRef)(),R=Object(s.useRef)(),A=F(),W=A.currentUser,H=A.updatePassword,L=A.updateEmail,B=Object(s.useState)(""),E=Object(u.a)(B,2),M=E[0],q=E[1],U=Object(s.useState)(!1),z=Object(u.a)(U,2),V=z[0],G=z[1],_=Object(D.g)(),J=Object(D.h)().user;function K(){return(K=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(I.current.value),""!==I.current.value&&null!==I.current.value){e.next=7;break}T("Data has been saved successfully"),console.log(r),e.next=15;break;case 7:if(P.current.value===R.current.value){e.next=9;break}return e.abrupt("return",q("Passwords does not match"));case 9:a=[],G(!0),q(""),I.current.value!==W.email&&a.push(L(I.current.value)),P.current.value&&a.push(H(P.current.value)),Promise.all(a).then((function(){_.push("/")})).catch((function(){q("Failed to update account")})).finally((function(){G(!1)}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)("h2",{align:"center",children:" My Profile"}),!M&&C&&Object(n.jsx)(ee.a,{severity:"success",children:Object(n.jsx)(te.a,{children:C})}),M&&Object(n.jsx)(ee.a,{severity:"error",children:Object(n.jsx)(te.a,{children:M})}),Object(n.jsxs)(Y.a,{container:!0,"flex-start":"left",children:[Object(n.jsx)("p",{style:{paddingLeft:8},children:"Please enter your details here"})," "]}),Object(n.jsxs)("form",{onSubmit:function(e){return K.apply(this,arguments)},children:[Object(n.jsxs)(Y.a,{container:!0,spacing:3,children:[Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{id:"firstName",type:"text",name:"firstName",label:"First name",variant:"outlined",onChange:N,value:o||"",style:be.textFld,autoComplete:"given-name"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{id:"lastName",name:"lastName",type:"text",label:"Last name",onChange:N,value:p||"",variant:"outlined",style:be.textFld,autoComplete:"family-name"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{id:"DateOfBirth",name:"DateOfBirth",type:"date",InputLabelProps:{shrink:!0},label:"Date Of Birth",onChange:N,value:b||"",variant:"outlined",style:be.textFld})}),Object(n.jsxs)(Y.a,{item:!0,xs:12,sm:12,children:[Object(n.jsxs)(pe.a,{children:[Object(n.jsx)(Z.a,{id:"postcode",name:"postcode",label:"Post code",variant:"outlined",onChange:N,value:h||"",style:be.textFld,autoComplete:" postal-code"}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(y.a,{variant:"outlined",className:"btn btn-secondary w-100",onClick:function(){console.log("Find Address button clicked")},children:"Find Address"})})]}),"  "]}),Object(n.jsx)(Y.a,{item:!0,xs:12,children:Object(n.jsx)(Z.a,{id:"address1",name:"address1",onChange:N,value:O||"",label:"Address line 1",variant:"outlined",style:be.textFld,autoComplete:"address-line1"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,children:Object(n.jsx)(Z.a,{id:"address2",name:"address2",label:"Address line 2",variant:"outlined",onChange:N,value:x||"",style:be.textFld,autoComplete:"address-line2"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{id:"city",name:"city",label:"City",onChange:N,value:f||"",variant:"outlined",style:be.textFld,autoComplete:"address-level2"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{id:"county",name:"county",variant:"outlined",onChange:N,value:g||"",style:be.textFld,label:"County"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{id:"email",name:"email",type:"email",label:"Email Address",inputRef:I||"",onChange:N,value:v||"",variant:"outlined",style:be.textFld})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{id:"password",name:"password",type:"password",label:"Password",inputRef:P,variant:"outlined",style:be.textFld})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{id:"passwordConfirm",name:"city",type:"password",label:"Confirm Password",inputRef:R,variant:"outlined",style:be.textFld})}),Object(n.jsx)(Y.a,{item:!0,xs:12,children:"Volunteer"==="".concat(J)&&Object(n.jsx)(m.a,{control:Object(n.jsx)($.a,{color:"secondary",style:{marginLeft:"5px"},name:"dbsCheck",value:"yes"}),label:"I have a valid DBS certificate"})})]}),Object(n.jsx)(Y.a,{container:!0,justify:"center",spacing:3,direction:"row",children:Object(n.jsxs)(pe.a,{className:"w-100 text-center mt-2",children:[Object(n.jsx)(Y.a,{item:!0,xs:12,children:Object(n.jsx)(y.a,{disabled:V,variant:"contained",style:be.button,className:"btn btn-primary w-100",type:"submit",children:"Update"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,children:Object(n.jsx)(y.a,{variant:"contained",style:be.button,className:"btn btn-primary w-100",component:S.b,to:"/HelpWhoNeeds/",children:"Cancel"})})]})})]})]})}function me(){return Object(n.jsxs)(g.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(S.b,{color:"inherit",to:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var Oe=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function xe(){var e=Oe(),t=Object(s.useRef)(),a=F().resetPassword,i=Object(s.useState)(""),r=Object(u.a)(i,2),c=r[0],o=r[1],j=Object(s.useState)(""),p=Object(u.a)(j,2),b=p[0],h=p[1],m=Object(s.useState)(!1),O=Object(u.a)(m,2),x=O[0],f=O[1],v=Object(D.h)().user;function k(){return(k=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,h(""),o(""),f(!0),e.next=7,a(t.current.value);case 7:h("Check your inbox for password reset instructions"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),o("Failed to reset password");case 13:f(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(n.jsxs)(ie.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(X.a,{}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(Q.a,{className:e.avatar,children:Object(n.jsx)(se.a,{})}),Object(n.jsx)(g.a,{component:"h1",variant:"h5",children:" Forgot Password "}),c&&Object(n.jsx)(ee.a,{severity:"error",children:Object(n.jsxs)(te.a,{children:["Error: ",c]})}),b&&Object(n.jsx)(ee.a,{severity:"success",children:Object(n.jsx)(te.a,{children:b})}),Object(n.jsxs)("form",{onSubmit:function(e){return k.apply(this,arguments)},children:[Object(n.jsx)(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"email",inputRef:t,id:"email",label:"Email Address"}),Object(n.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",disabled:x,color:"primary",children:"Reset Password"})]}),Object(n.jsx)(Y.a,{container:!0,children:Object(n.jsx)(Y.a,{item:!0,xs:!0,children:Object(n.jsxs)("div",{className:"w-100 text-center mt-2",children:["Go to ",Object(n.jsx)(S.b,{to:"/login/".concat(v),variant:"body2",children:"Sign In"})]})})}),Object(n.jsx)(Y.a,{container:!0,children:Object(n.jsx)(Y.a,{item:!0,xs:!0,children:Object(n.jsxs)("div",{className:"w-100 text-center mt-3",children:["New User ?",Object(n.jsx)(S.b,{to:"/signUp/".concat(v),variant:"body2",children:"Sign Up "})]})})})]}),"  ",Object(n.jsx)(ae.a,{mt:8,children:Object(n.jsx)(me,{})})]})}var fe={textFld:{width:"85%",height:40,paddingLeft:8},button:{border:"4px",color:"default",fontWeight:"bold",marginLeft:10,marginTop:"10px"}};function ge(e){var t=Object(s.useRef)(),r=Object(s.useRef)(),c=Object(s.useRef)(),o=Object(s.useRef)(),l=Object(s.useRef)(),d=Object(s.useState)(""),j=Object(u.a)(d,2),p=j[0],b=j[1],h=Object(s.useState)(""),m=Object(u.a)(h,2),O=m[0],x=m[1];return Object(n.jsx)(i.a.Fragment,{children:Object(n.jsxs)(Y.a,{container:!0,spacing:3,children:[Object(n.jsxs)(Y.a,{item:!0,xs:12,sm:6,children:[Object(n.jsxs)(pe.a,{children:[Object(n.jsx)(Z.a,{required:!0,id:"postcode",name:"postcode",label:"Post code",variant:"outlined",inputRef:t,style:fe.textFld,autoComplete:" postal-code"}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(y.a,{variant:"outlined",type:"submit",onClick:function(e){e.preventDefault();var n=new(a(552).Callbacks);console.log(t.current.value),n.lookup(t.current.value,(function(e,t){console.log(t),b(t.admin_county),x(t.parliamentary_constituency),console.log(p)}))},children:"Find Address"})})]}),"  "]}),Object(n.jsx)(Y.a,{item:!0,xs:12,children:Object(n.jsx)(Z.a,{required:!0,id:"address1",name:"address1",inputRef:r,label:"Address line 1",variant:"outlined",style:fe.textFld,autoComplete:"address-line1"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,children:Object(n.jsx)(Z.a,{id:"address2",name:"address2",label:"Address line 2",inputRef:c,variant:"outlined",style:fe.textFld,autoComplete:"address-line2"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{required:!0,id:"city",name:"city",label:"City",inputRef:o,value:O||"",variant:"outlined",style:fe.textFld,autoComplete:"address-level2"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{id:"county",name:"county",inputRef:l,variant:"outlined",value:p||"",style:fe.textFld,label:"County"})})]})})}var ye={textFld:{width:"85%",height:40,paddingLeft:8},button:{border:"4px",fontWeight:"bold",marginLeft:10,marginTop:"10px"}};function ve(e){var t=Object(s.useState)({initialInputState:{firstName:"",lastName:"",DateOfBirth:"",postcode:"",address1:"",address2:"",city:"",county:""}}),a=Object(u.a)(t,2),r=a[0],c=a[1],o=r.firstName,l=r.lastName,d=r.DateOfBirth,p=(r.postcode,r.address1,r.address2,r.city,r.county,Object(s.useState)("")),b=Object(u.a)(p,2),h=b[0],O=b[1],x=function(e){c(Object(j.a)(Object(j.a)({},r),{},Object(je.a)({},e.target.name,e.target.value)))},f=Object(D.h)().user;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)("h2",{align:"center",children:" Registration form"}),h&&Object(n.jsx)(ee.a,{severity:"success",children:Object(n.jsx)(te.a,{children:h})}),Object(n.jsxs)(Y.a,{container:!0,"flex-start":"left",children:[Object(n.jsx)("p",{style:{paddingLeft:8},children:"Please enter your details here"})," "]}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O("Data has been saved successfully"),console.log(r)},children:[Object(n.jsxs)(Y.a,{container:!0,spacing:3,children:[Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{required:!0,id:"firstName",type:"text",name:"firstName",label:"First name",variant:"outlined",onChange:x,value:o||"",style:ye.textFld,autoComplete:"given-name"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{required:!0,id:"lastName",name:"lastName",type:"text",label:"Last name",onChange:x,value:l||"",variant:"outlined",style:ye.textFld,autoComplete:"family-name"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{id:"DateOfBirth",name:"DateOfBirth",type:"date",InputLabelProps:{shrink:!0},label:"Date Of Birth",onChange:x,value:d||"",variant:"outlined",style:ye.textFld})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:12,children:Object(n.jsx)(ge,{})}),Object(n.jsx)(Y.a,{item:!0,xs:12,children:"Volunteer"==="".concat(f)&&Object(n.jsx)(m.a,{control:Object(n.jsx)($.a,{color:"secondary",style:{marginLeft:"5px"},name:"dbsCheck",value:"yes"}),label:"I have a valid DBS certificate"})})]}),Object(n.jsx)(Y.a,{container:!0,justify:"center",spacing:3,direction:"row",children:Object(n.jsx)(Y.a,{item:!0,xs:12,align:"center",children:Object(n.jsx)(y.a,{variant:"contained",className:"btn btn-primary w-100",type:"submit",children:"Submit"})})})]})]})}var ke=a(965),we=a(966),Ce=a(967),Te=a(968),De=a(941),Se=a(20),Ne=function(e){return{textFld:{width:"85%",height:40,paddingLeft:8},button:{border:"4px",color:"default",fontWeight:"bold",marginLeft:10,marginTop:"10px"},form:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content"}}},Ie=function(e){var t=e.open,a=e.handleClose,s=e.title,i=e.data,r=Object(Se.a)(),c=Object(De.a)(r.breakpoints.down("sm"));return console.log(i),Object(n.jsx)("div",{children:Object(n.jsxs)(ke.a,{open:t,onClose:a,fullScreen:c,"aria-labelledby":"responsive-dialog-title",children:[Object(n.jsx)(we.a,{children:s}),Object(n.jsx)(Ce.a,{children:Object(n.jsx)("form",{className:Ne.form,noValidate:!0,children:i&&Object(n.jsxs)(Y.a,{container:!0,spacing:3,children:[i.firstName," ",i.lastName,Object(n.jsx)(Y.a,{item:!0,xs:12,sm:12,children:Object(n.jsx)(Z.a,{id:"taskType",type:"string",label:"Task",value:i.taskType,variant:"outlined",style:Ne.textFld,autoComplete:"family-name"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:12,children:Object(n.jsx)(Z.a,{id:"taskSummary",type:"string",label:"Task Summary",value:i.taskSummary,variant:"outlined",multiline:!0,rows:6,style:Ne.textFld,autoComplete:"family-name"})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6})]})})}),Object(n.jsx)(Te.a,{children:Object(n.jsx)(y.a,{autoFocus:!0,onClick:a,color:"primary",children:"Close"})})]})})},Pe=a(969),Re=Object(p.a)((function(e){return{root:{top:e.spacing(15)}}}));var Fe=function(e){var t=Re(),a=e.notify,s=e.setNotify,i=function(e,t){"clickaway"!==t&&s(Object(j.a)(Object(j.a)({},a),{},{isOpen:!1}))};return Object(n.jsx)(Pe.a,{className:t.root,open:a.isOpen,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:i,children:Object(n.jsx)(ee.a,{severity:a.type,onClose:i,children:a.message})})},Ae=Object(p.a)((function(e){return{dailog:{padding:e.spacing(2),position:"absolute",top:e.spacing(15)},dailogContent:{textAlign:"center"},dailogAction:{justifyContent:"center"}}})),We=function e(t){var a=Ae(),s=t.confirmDialog,i=t.setConfirmDialog;return Object(n.jsxs)(ke.a,{open:s.isOpen,className:a.dailog,children:[Object(n.jsx)(we.a,{children:Object(n.jsx)(g.a,{variant:"h6",children:s.title})}),Object(n.jsx)(Ce.a,{className:a.dailogContent,children:Object(n.jsx)(g.a,{variant:"subtitle2",children:s.subTitle})}),Object(n.jsxs)(Te.a,{className:a.dailogAction,children:[Object(n.jsx)(y.a,{variant:"contained",size:"small",style:{minWidth:"90px"},onClick:s.onConfirm,children:"OK"}),Object(n.jsx)(y.a,{variant:"contained",size:"small",style:{minWidth:"90px"},onClick:function(){return i(Object(j.a)(Object(j.a)({},e),{},{isOpen:!1}))},children:"Cancel"})]})]})};var He=a(232),Le=a.n(He),Be=a(131),Ee=a(970),Me=a(185),qe=a.n(Me),Ue={filterType:"multiselect",selectableRows:"none",selectableRowsOnClick:!0,rowsPerPage:"5",rowsPerPageOptions:[5,10,15,20],print:!1,download:!1},ze=Object(Be.a)({overrides:{MuiDataTable:{root:{width:"min-content"},responsiveScroll:{maxHeight:"none"}},MUIDataTableBodyCell:{root:{backgroundColor:"#FFF",width:"90px"}}}});function Ye(e){var t=e.taskListData,a=e.isMyTask,s=e.handleAccept,i=e.handleView,r=e.handleReject,c=e.handleComplete,o=[{name:"id",label:"ID",options:{display:!1,sort:!1,filter:!1,viewColumns:!1}},{name:"volId",label:"volunteer ID",viewColumns:!1,options:{display:!1,sort:!1,filter:!1}},{name:"status",label:"State",viewColumns:!1,options:{display:!1,filter:!1,sort:!1,width:"10%"}},{name:"firstName",label:"First name",options:{display:!1,filter:!0,sort:!0}},{name:"lastName",label:"Last name",options:{display:!1,filter:!0,sort:!0}},{name:"firstName",label:"Full Name",options:{filter:!1,sort:!1,customBodyRender:function(e,t,a){return Object(n.jsxs)("div",{children:[t.rowData[3]," ",t.rowData[4]]})}}},{name:"taskType",label:"Task",options:{filter:!0,sort:!0}},{name:"date",label:"Start Date",options:{filter:!0,sort:!0,customBodyRender:function(e){return qe()(new Date(e)).format("DD MMM YYYY")}}},{name:"distance",label:"Distance",options:{filter:!0,sort:!0}},{name:"id",label:"Action",options:{sort:!1,filter:!1,viewColumns:!1,display:!0===a,customBodyRender:function(e,t){var a=t.rowData[1],s=t.rowData[2];return Object(n.jsx)(y.a,{variant:"contained",color:"secondary",size:"small",disabled:null===a||"Completed"===s,style:{marginLeft:2,minWidth:"70px"},className:"button",value:e,onClick:function(){r(e)},children:"Reject"})}}},{name:"id",label:"Confirm",options:{sort:!1,filter:!1,viewColumns:!1,display:!0===a,customBodyRender:function(e,t){var a=t.rowData[2];return Object(n.jsx)(y.a,{variant:"contained",color:"default",size:"small",disabled:"Completed"===a,style:{marginLeft:2,minWidth:"90px"},className:"button",value:e,onClick:function(){c(e)},children:"Completed"!==a?"COMPLETE":"DONE"})}}},{name:"id",label:"Action",options:{sort:!1,filter:!1,viewColumns:!1,display:!a,customBodyRender:function(e,t){var a=t.rowData[1];return Object(n.jsx)(y.a,{variant:"contained",color:"primary",size:"small",disabled:null!==a,style:{marginLeft:2,backgroundColor:null===a?"green":"lightgrey"},className:"button",value:e,onClick:function(){s(e)},children:"Accept"})}}},{name:"id",label:" Task Detail",options:{filter:!1,sort:!1,viewColumns:!1,customBodyRender:function(e,t,a){return Object(n.jsx)(y.a,{variant:"contained",color:"primary",size:"small",style:{marginLeft:2,minWidth:"70px"},value:e,onClick:function(t){i(t,e)},children:"View"})}}}];return Object(n.jsx)(Ee.a,{theme:ze,children:Object(n.jsx)(Le.a,{title:!1===a?"Search New Tasks":"My Pending Tasks",data:t,columns:o,options:Ue})})}var Ve=a(972),Ge=Object(p.a)((function(e){return{h5:{color:"#4C4B51",textAlign:"center"}}})),_e=[{id:1,lastName:"Snow",firstName:"Jon",taskType:"Shopping",taskSummary:"I need help with Shopping from Tesco",date:"2020-12-28",distance:1,volId:1,status:"Assigned"},{id:2,lastName:"Lannister",firstName:"Cersei",taskType:"Dog Walking",taskSummary:"I need help with dog walkingevery morning and afternoon",date:"2021-01-20",distance:1,volId:1,status:"Assigned"},{id:3,lastName:"Lannister",firstName:"Jaime",taskType:"Shopping",taskSummary:"I need help with Shopping from Asda",date:"2021-01-28",distance:2.3,volId:1,status:"Completed"},{id:4,lastName:"Stark",firstName:"Arya",taskType:"Pharmacy",taskSummary:"I need help with picking up my prescription from local gp",date:"2021-03-20",distance:.8,volId:null,status:"Open"},{id:5,lastName:"Targaryen",firstName:"Daenerys",taskType:"Hospital",taskSummary:"I need help to drop off and pick up from my hospital",date:"2021-01-10",distance:2,volId:null,status:"Open"},{id:6,lastName:"Melisandre",firstName:null,taskType:"Phone Call",taskSummary:"I need someone to give me a call to have a chat",date:"2021-01-20",distance:5,volId:null,status:"Open"},{id:7,lastName:"Clifford",firstName:"Ferrara",taskType:"Shopping",taskSummary:"I need help with Shopping from Tesco",date:"2021-01-20",distance:4,volId:null,status:"Open"},{id:8,lastName:"Frances",firstName:"Rossini",taskType:"Other",taskSummary:"I need help with mowing my garden",date:"2021-01-20",distance:2,volId:null,status:"Open"},{id:9,lastName:"Roxie",firstName:"Harvey",taskType:"Shopping",taskSummary:"I need help with Shopping from Sainsbuyrys",date:"2021-01-20",distance:3,volId:null,status:"Open"},{id:10,lastName:"Indra",firstName:"Thapa",taskType:"Medical",taskSummary:"I need help with picking up my prescription",date:"2021-01-20",distance:3,volId:null,status:"Open"},{id:11,lastName:"Paanas",firstName:"Thapa",taskType:"Medical",taskSummary:"I need help with picking up my prescription",date:"2021-01-20",distance:3,volId:null,status:"Open"},{id:12,lastName:"Paanas",firstName:"Thapa",taskType:"Medical",taskSummary:"I need help with picking up my prescription",date:"2021-01-20",distance:3,volId:null,status:"Open"},{id:13,lastName:"Kate",firstName:"Middleton",taskType:"Medical",taskSummary:"I need help with picking up my prescription",date:"2021-01-20",distance:3,volId:null,status:"Open"},{id:14,lastName:"Joe",firstName:"Kelly",taskType:"Shopping",taskSummary:"I need help with Shopping from Tesco",date:"2021-01-20",distance:4,volId:null,status:"Open"},{id:15,lastName:"Frances",firstName:"Rai",taskType:"Other",taskSummary:"I need help with mowing my garden",date:"2021-01-20",distance:2,volId:null,status:"Open"},{id:16,lastName:"Roxie",firstName:"Raymond",taskType:"Shopping",taskSummary:"I need help with Shopping from Sainsbuyrys",date:"2021-01-20",distance:3,volId:null,status:"Open"}];function Je(){var e=Ge(),t=Object(s.useState)(_e),a=Object(u.a)(t,2),r=a[0],c=a[1],o=r.filter((function(e){return null!==e.volId&&"Completed"!==e.status&&1===e.volId})),l=r.filter((function(e){return null===e.volId})),d=Object(s.useState)(!1),p=Object(u.a)(d,2),b=p[0],h=p[1],m=Object(s.useState)(!1),O=Object(u.a)(m,2),x=O[0],f=O[1],g=i.a.useState(!1),v=Object(u.a)(g,2),k=v[0],w=v[1],C=i.a.useState(null),T=Object(u.a)(C,2),D=T[0],S=T[1],N=Object(s.useState)({isOpen:!1,message:" ",type:" "}),I=Object(u.a)(N,2),P=I[0],R=I[1],F=Object(s.useState)({isOpen:!1,title:"",subTitle:""}),A=Object(u.a)(F,2),W=A[0],H=A[1],L=function(e,t){var a=r.find((function(e){return e.id===t}));console.log(a),null!=a&&function(e,t){w(!0),S(t)}(0,a)},B=function(e){H({isOpen:!0,title:"Are you sure to return your assigned Task?",subTitle:"Once rejected it will be unassigned from you.To reassign the task you need to go to search task and accept it again.",onConfirm:function(){H(Object(j.a)(Object(j.a)({},W),{},{isOpen:!1}));var t=r.map((function(t){return t.id===e?Object(j.a)(Object(j.a)({},t),{},{volId:null,status:"Open"}):t}));c(t),console.log("myTask"),console.log(o),console.log("assignTasks"),console.log(l),console.log(r),R({isOpen:!0,message:"Task is unssigned from you",type:"warning"})}})},E=function(e){H({isOpen:!0,title:"Do you agree to accept this task?",subTitle:"Once accepted it will be assigned to you.To return the task you need to go to your task list and reject it.",onConfirm:function(){H(Object(j.a)(Object(j.a)({},W),{},{isOpen:!1}));var t=r.map((function(t){return t.id===e?Object(j.a)(Object(j.a)({},t),{},{volId:1,status:"Assigned"}):t}));c(t),console.log("assignTasks"),console.log(l),console.log("myTask"),console.log(o),console.log(r),R({isOpen:!0,message:"Task is successfully assigned to you.",type:"success"})}})},M=function(e){H({isOpen:!0,title:"Have you completed this task?",subTitle:"Once completed it will be marked as done will be removed from your list.",onConfirm:function(){H(Object(j.a)(Object(j.a)({},W),{},{isOpen:!1}));var t=r.map((function(t){return t.id===e?Object(j.a)(Object(j.a)({},t),{},{status:"Completed"}):t}));c(t),console.log("assignTasks"),console.log(l),console.log("myTask"),console.log(o),console.log(r),R({isOpen:!0,message:"Task is successfully marked as completed",type:"success"})}})};return Object(n.jsx)(i.a.Fragment,{children:Object(n.jsxs)("div",{style:{height:"100%"},children:[Object(n.jsxs)(Y.a,{id:"tasks",container:!0,spacing:2,direction:"row",justify:"center",children:[!b&&Object(n.jsxs)(Y.a,{className:"my-tasks",item:!0,xs:12,sm:6,align:"right",children:[Object(n.jsxs)(Ve.a,{smUp:!0,children:[Object(n.jsx)(y.a,{variant:"contained",color:"default",size:"small",onClick:function(){h(!0),f(!1)},children:"Search New Tasks"})," "]}),Object(n.jsx)("h4",{className:e.h5,children:"My Assigned Tasks"}),Object(n.jsx)(Ye,{taskListData:o,isMyTask:!0,handleAccept:E,handleReject:B,handleView:L,handleComplete:M})]}),!x&&Object(n.jsxs)(Y.a,{className:"new-tasks",item:!0,xs:12,sm:6,align:"right",children:[Object(n.jsxs)(Ve.a,{smUp:!0,children:[" ",Object(n.jsx)(y.a,{variant:"contained",color:"default",size:"small",onClick:function(){f(!0),h(!1)},children:"View My Tasks"})]}),Object(n.jsx)("h4",{className:e.h5,children:"Search New Tasks"}),Object(n.jsx)(Ye,{taskListData:l,isMyTask:!1,handleAccept:E,handleReject:B,handleView:L,handleComplete:M})]})]}),Object(n.jsx)(Ie,{open:k,handleClose:function(){w(!1),S(null)},title:"Task Summary",data:D}),Object(n.jsx)(Fe,{notify:P,setNotify:R}),Object(n.jsx)(We,{confirmDialog:W,setConfirmDialog:H})]})})}var Ke=a(32),Qe=a(517),Xe=a.n(Qe),Ze=a(519),$e=a.n(Ze),et=a(521),tt=a.n(et),at=a(518),nt=a.n(at),st=a(520),it=a.n(st),rt=a(522),ct=a.n(rt),ot=a(524),lt=a(516),dt=a.n(lt),ut=Object(p.a)({p:{margin:"10px 2px 10px 2px"},root:{padding:"8px 0px 8px 0px"}});var jt=function(e){var t=e.open,a=e.handleClose,i=e.taskType,r=e.addTask,c=e.defaultValues,o=e.updateTask,l=e.updTaskId;console.log("Task update dialog with id: ",l),Object(s.useEffect)((function(){b(c)}),[c]);var d=function(e){return e.getFullYear()+"-"+(1+e.getMonth()).toString().padStart(2,"0")+"-"+e.getDate().toString().padStart(2,"0")},u=Object(ot.a)({defaultValues:c,mode:"all"}),j=u.register,p=u.handleSubmit,b=u.reset,h=u.errors,m=u.watch,O=u.setValue,x=u.clearErrors,f=function(){b(),a()},v=m(),k=function(e,t,a){var n={};return n.task_type={Shopping:"GRO",Pharmacy:"PHA","Dog Walking":"DOG",Hospital:"HOS",Chat:"CHAT",Other:"ANY"}[i],n.description=e.taskDetails||null,n.dbs_needed=e.dbsReq,n.start_time=t,n.end_time=a,console.log("item created: ",n),n},w=ut(),C="Required field";return Object(n.jsx)("div",{children:Object(n.jsx)(ke.a,{open:t,onClose:f,fullWidth:!0,maxWidth:"sm",children:Object(n.jsxs)("form",{onSubmit:p((function(e){var t=new Date(e.startDate+"T"+e.startTime),a=new Date(e.endDate+"T"+e.endTime),n=k(e,t,a);dt.a.post("http://localhost:8000/api/tasks/",n).catch((function(e){console.log(e.request),console.log(e.config)})),r({taskType:i,taskDetails:e.taskDetails,start:t,end:a}),console.log("onSubmit: updTaskId: ",l),l<0?r({taskType:i,taskDetails:e.taskDetails,start:t,end:a}):o({taskType:i,taskDetails:e.taskDetails,start:t,end:a},l),f()})),children:[Object(n.jsx)(we.a,{id:"dialog-add-task",children:{Shopping:"Shopping",Pharmacy:"Collect medicine","Dog Walking":"Dog Walking",Hospital:"Visit Hospital Appointment",Chat:"Friendly Chat",Other:"I need help with ..."}[i]}),Object(n.jsxs)(Ce.a,{children:[Object(n.jsx)(Z.a,{id:"taskDetails",name:"taskDetails",inputRef:j({required:["Shopping","Other"].includes(i)}),label:"Details",multiline:!0,rows:5,variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},error:h.taskDetails,helperText:h.taskDetails&&"Details are required for this task type"}),Object(n.jsxs)("p",{className:w.p,children:[Object(n.jsx)("br",{}),"Set dates when you need it: ",Object(n.jsx)("br",{}),Object(n.jsx)(g.a,{variant:"caption",children:"Providing wider time window will increase your chances to find a volunteer."})]}),Object(n.jsxs)(Y.a,{id:"start-time",container:!0,spacing:3,children:[Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{inputRef:j({required:C}),id:"startDate",name:"startDate",label:"Starting from",type:"date",margin:"dense",fullWidth:!0,inputProps:{min:d(new Date)},onChange:function(e){e.target.value&&(!v.endDate||v.endDate&&v.endDate<e.target.value)&&O("endDate",e.target.value)},InputLabelProps:{shrink:!0},error:h.hasOwnProperty("startDate"),helperText:h.startDate&&h.startDate.message})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{inputRef:j({required:C}),type:"time",id:"startTime",name:"startTime",label:"Time",margin:"dense",fullWidth:!0,InputLabelProps:{shrink:!0},error:h.hasOwnProperty("startTime"),helperText:h.startTime&&h.startTime.message})})]}),Object(n.jsxs)(Y.a,{id:"finish-time",container:!0,spacing:3,children:[Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{inputRef:j({required:C}),type:"date",margin:"dense",inputProps:{min:d(new Date)},id:"endDate",name:"endDate",label:"Ending at",fullWidth:!0,onChange:function(e){e.target.value&&v.startDate&&v.startDate>e.target.value&&O("startDate",e.target.value)},InputLabelProps:{shrink:!0},error:h.hasOwnProperty("endDate"),helperText:h.endDate&&h.endDate.message})}),Object(n.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{inputRef:j({required:C,validate:function(){var e=new Date(v.startDate+"T"+v.startTime),t=new Date(v.endDate+"T"+v.endTime);if(v.startDate&&v.startTime&&v.endDate&&v.endTime)return e.setMinutes(e.getMinutes()+30)>t?"Not enough time to complete your task. Consider at least 30 minutes.":void 0;x("endTime")}}),type:"time",id:"endTime",name:"endTime",label:"Time",margin:"dense",fullWidth:!0,InputLabelProps:{shrink:!0},error:h.hasOwnProperty("endTime"),helperText:h.endTime&&h.endTime.message})})]})]}),Object(n.jsxs)(Te.a,{children:[Object(n.jsx)(y.a,{onClick:f,color:"primary",children:"Cancel"}),Object(n.jsx)(y.a,{type:"Submit",color:"primary",children:"Add"})]})]})})})};function pt(e){var t=e.taskList,a=e.handleCopy,s=e.handleEdit,r=e.handleRemove,c=[{name:"id",label:"ID",width:"5%",options:{display:!1,sort:!0,filter:!1}},{name:"taskType",label:"Task Type",options:{filter:!0,sort:!0,width:"10%"}},{name:"taskDetails",label:" Task Detail",options:{display:!0,filter:!1,sort:!1,width:"15%",customBodyRender:function(e){return e.slice(0,30)+(e.length>30?"...":"")}}},{name:"start",label:"Start Time",options:{filter:!0,sort:!0,width:"10%",customBodyRender:function(e){return qe()(e).format("lll")}}},{name:"end",label:"End Time",options:{filter:!0,sort:!0,width:"10%",customBodyRender:function(e){return qe()(e).format("lll")}}},{name:"status",label:"State",options:{filter:!0,sort:!0,width:"10%"}},{name:"id",label:"Actions",options:{sort:!1,filter:!1,width:"40%",customBodyRender:function(e,t){return Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{variant:"contained",color:"primary",size:"small",className:"button",onClick:function(){console.log(t.rowData[0]),a(t.rowData[0])},children:"Copy"}),["Open","Expired"].includes(t.rowData[5])?Object(n.jsx)(y.a,{variant:"contained",color:"default",size:"small",className:"button",style:{marginLeft:10},onClick:function(){console.log(t.rowData[0]),s(t.rowData[0])},children:"Edit"}):null,["Open"].includes(t.rowData[5])?Object(n.jsx)(y.a,{variant:"contained",color:"secondary",size:"small",className:"button",style:{marginLeft:10},onClick:function(){console.log(t.rowData[0]),r(t.rowData[0])},children:"Cancel"}):null]})}}}];return Object(n.jsx)(i.a.Fragment,{children:Object(n.jsx)(Ee.a,{theme:Object(Be.a)({overrides:{MuiPaper:{root:{margin:"20px 0px 0px 0px"}},MuiTableCell:{root:{padding:"5px 5px 5px 15px"}},MUIDataTableToolbar:{root:{background:"#AAF"}},MUIDataTableHeadCell:{root:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",position:"relative"}},MUIDataTableBodyCell:{root:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",position:"relative"}}}}),children:Object(n.jsx)(Le.a,{title:"All Tasks",data:t,columns:c,options:{selectableRows:"none",print:!1,download:!1,rowsPerPage:20,rowsPerPageOptions:[5,10,20],sortOrder:{name:"start",direction:"desc"}}})})})}var bt=Object(p.a)({h1:{color:"#4C4B51"},largeButton:{border:5,color:"#FF8E53",padding:"15px",margin:"15px",height:100,width:110},largeIcon:{fontSize:60},label:{flexDirection:"column"},icon:{fontSize:"32px !important",marginBottom:5}});var ht=function(){var e=Object(s.useState)((Date.prototype.addHours=function(e){return this.setHours(this.getHours()+e),this},[{id:1,taskType:"Shopping",taskDetails:"I need help with Shopping from Tesco",start:(new Date).addHours(2),end:(new Date).addHours(4),status:"Cancelled"},{id:2,taskType:"Dog Walking",taskDetails:"I need help with dog walkingevery morning and afternoon",start:(new Date).addHours(5),end:(new Date).addHours(10),status:"Open"},{id:3,taskType:"Shopping",taskDetails:"I need help with Shopping from Asda",start:(new Date).addHours(20),end:(new Date).addHours(24),status:"Assigned"},{id:4,taskType:"Pharmacy",taskDetails:"I need help with picking up my prescription from local gp",start:(new Date).addHours(-20),end:(new Date).addHours(-16),status:"Expired"},{id:5,taskType:"Hospital",taskDetails:"I need help to drop off and pick up from my hospital",start:(new Date).addHours(-100),end:(new Date).addHours(-80),status:"Completed"},{id:6,taskType:"Phone Call",taskDetails:"I need someone to give me a call to have a chat",start:(new Date).addHours(20),end:(new Date).addHours(40),status:"Open"},{id:8,taskType:"Other",taskDetails:"I need help with mowing my garden",start:(new Date).addHours(-5),end:(new Date).addHours(4),status:"Open"},{id:9,taskType:"Shopping",taskDetails:"I need help with Shopping from Sainsbuyrys",start:new Date(2020,11,10,10),end:new Date(2020,11,10,16),status:"Expired"}])),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(11),o=Object(u.a)(c,2),l=o[0],d=o[1],p={taskDetails:"",startDate:null,startTime:"08:00",endDate:null,endTime:"20:00"},b=i.a.useState(!1),h=Object(u.a)(b,2),m=h[0],O=h[1],x=i.a.useState(null),f=Object(u.a)(x,2),g=f[0],v=f[1],k=i.a.useState(p),w=Object(u.a)(k,2),C=w[0],T=w[1],D=i.a.useState(-1),S=Object(u.a)(D,2),N=S[0],I=S[1],P=function(e,t){v(t),O(!0)},R=bt();return Object(n.jsxs)("div",{className:"centered",children:[Object(n.jsx)("h1",{children:"I need help with..."}),Object(n.jsxs)(y.a,{classes:{root:R.largeButton,label:R.label},onClick:function(e){return P(0,"Shopping")},children:[Object(n.jsx)(Xe.a,{className:R.largeIcon}),"Shopping"]}),Object(n.jsxs)(y.a,{classes:{root:R.largeButton,label:R.label},onClick:function(e){return P(0,"Pharmacy")},children:[Object(n.jsx)(nt.a,{className:R.largeIcon}),"Pharmacy"]}),Object(n.jsxs)(y.a,{classes:{root:R.largeButton,label:R.label},onClick:function(e){return P(0,"Dog Walking")},children:[Object(n.jsx)($e.a,{className:R.largeIcon}),"Dog Walk"]}),Object(n.jsxs)(y.a,{classes:{root:R.largeButton,label:R.label},onClick:function(e){return P(0,"Hospital")},children:[Object(n.jsx)(it.a,{className:R.largeIcon}),"Hospital"]}),Object(n.jsxs)(y.a,{classes:{root:R.largeButton,label:R.label},onClick:function(e){return P(0,"Chat")},children:[Object(n.jsx)(tt.a,{className:R.largeIcon}),"Chat"]}),Object(n.jsxs)(y.a,{classes:{root:R.largeButton,label:R.label},onClick:function(e){return P(0,"Other")},children:[Object(n.jsx)(ct.a,{className:R.largeIcon}),"Other"]}),Object(n.jsx)(jt,{open:m,handleClose:function(){v(null),O(!1),T(p),I(-1)},taskType:g,addTask:function(e){e.id=l,d(l+1),e.status="Open";var t=[].concat(Object(Ke.a)(a),[e]);r(t)},defaultValues:C,updateTask:function(e,t){if(t<0)console.log("ERROR: task to be updated does not exists");else{e.end>new Date&&(e.status="Open"),e.id=t;var n=a.filter((function(e){return e.id!==t}));n=[].concat(Object(Ke.a)(n),[e]),r(n)}},updTaskId:N}),Object(n.jsx)(pt,{taskList:a,handleCopy:function(e){var t=a.find((function(t){return t.id===e}));v(t.taskType),T(Object(j.a)(Object(j.a)({},C),{},{taskDetails:t.taskDetails})),O(!0)},handleEdit:function(e){var t=a.find((function(t){return t.id===e}));v(t.taskType),T(Object(j.a)(Object(j.a)({},C),{},{taskDetails:t.taskDetails})),I(e),O(!0)},handleRemove:function(e){var t=Object(Ke.a)(a);t.find((function(t){return t.id===e})).status="Cancelled",r(t)}})]})},mt=function(){return Object(n.jsx)("div",{children:Object(n.jsx)(Je,{})})},Ot=a(523);function xt(e){var t=e.component,a=Object(Ot.a)(e,["component"]),s=F().currentUser;return Object(n.jsx)(D.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return console.log(s),s?Object(n.jsx)(t,Object(j.a)({},e)):Object(n.jsx)(D.a,{to:"/"})}}))}var ft=function(){return Object(n.jsx)(S.a,{children:Object(n.jsx)(A,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(L,{}),Object(n.jsx)("div",{className:"AppContent",children:Object(n.jsxs)(D.d,{children:[Object(n.jsx)(D.b,{exact:!0,path:"/HelpWhoNeeds/",children:Object(n.jsx)(E,{})}),Object(n.jsx)(D.b,{path:"/about",children:Object(n.jsx)(G,{})}),Object(n.jsx)(D.b,{path:"/contact",children:Object(n.jsx)(_,{})}),Object(n.jsx)(D.b,{path:"/login/:userType",children:Object(n.jsx)(oe,{})}),Object(n.jsx)(D.b,{path:"/signUp/:user",children:Object(n.jsx)(ue,{})}),Object(n.jsx)(D.b,{path:"/forgotPassword/:user",children:Object(n.jsx)(xe,{})}),Object(n.jsx)(D.b,{path:"/legal",children:Object(n.jsx)(M,{})}),Object(n.jsx)(D.b,{path:"/support",children:Object(n.jsx)(U,{})}),Object(n.jsx)(D.b,{path:"/cookie",children:Object(n.jsx)(q,{})}),Object(n.jsx)(D.b,{path:"/contact",children:Object(n.jsx)(_,{})}),Object(n.jsx)(D.b,{path:"/termconditions",children:Object(n.jsx)(z,{})}),Object(n.jsx)(D.b,{path:"/requestee/tasks",children:Object(n.jsx)(ht,{})}),Object(n.jsx)(xt,{path:"/profile",component:he}),Object(n.jsx)(xt,{path:"/registrationPage/:user",component:ve}),Object(n.jsx)(xt,{path:"/searchTask",component:Je}),Object(n.jsx)(xt,{path:"/myTask",component:mt}),Object(n.jsx)(xt,{path:"/addTask",component:ht})]})}),Object(n.jsx)(K,{})]})})})},gt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,975)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),i(e),r(e)}))};c.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(ft,{})}),document.getElementById("root")),gt()}},[[930,1,2]]]);
//# sourceMappingURL=main.a5971d7b.chunk.js.map