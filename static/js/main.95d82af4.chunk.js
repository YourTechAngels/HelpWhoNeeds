(this["webpackJsonpyta-helpwhoneeds-frontend"]=this["webpackJsonpyta-helpwhoneeds-frontend"]||[]).push([[0],{433:function(e,t,a){},434:function(e,t,a){},699:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a(0),i=a.n(s),c=a(16),r=a.n(c),o=(a(433),a(434),a(20)),l=a.n(o),d=a(31),u=a(11),j=a(17),b=a(327),p=a(417),h=a(328),m=a(329),O=a(726),x=a(727),f=a(330),g=a(94),v=a(261),y=a(260),w=a(404),k=a(331),C=a(403),D=a.n(C),T=a(30),S=a(25),N=a(402),P=(a(436),N.a.initializeApp({apiKey:"AIzaSyAQD-Hez1rIIaIlTYomLubx8QCfjmH9iNQ",authDomain:"helpwhoneeds-dev.firebaseapp.com",projectId:"helpwhoneeds-dev",storageBucket:"helpwhoneeds-dev.appspot.com",messagingSenderId:"610243223694",appId:"1:610243223694:web:2fc8ba826f29471e54e9df"})),R=P.auth(),F=i.a.createContext();function I(){return Object(s.useContext)(F)}function A(e){var t=e.children,a=Object(s.useState)(),i=Object(u.a)(a,2),c=i[0],r=i[1],o=Object(s.useState)(!0),l=Object(u.a)(o,2),d=l[0],j=l[1];Object(s.useEffect)((function(){return R.onAuthStateChanged((function(e){r(e),j(!1)}))}),[]);var b={currentUser:c,login:function(e,t){return R.signInWithEmailAndPassword(e,t)},signup:function(e,t){return R.createUserWithEmailAndPassword(e,t)},signout:function(){return R.signOut()},resetPassword:function(e){return R.sendPasswordResetEmail(e)},updateEmail:function(e){return c.updateEmail(e)},updatePassword:function(e){return c.updatePassword(e)}};return Object(n.jsx)(F.Provider,{value:b,children:!d&&t})}var L=Object(b.a)((function(e){return{root:{flexGrow:1,"& > svg":{margin:e.spacing(2)}},title:{flexGrow:1},appBar:{backgroundColor:"#9370db"}}}));function W(e){return Object(n.jsx)(p.a,Object(j.a)(Object(j.a)({},e),{},{children:Object(n.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})}))}var B=function(){var e=L(),t=I(),a=t.currentUser,c=t.signout,r=i.a.useState(!1),o=Object(u.a)(r,2),j=o[0],b=o[1],p=i.a.useState(null),C=Object(u.a)(p,2),N=C[0],P=C[1];Object(s.useEffect)((function(){b(null!==a)}),[a]),a&&(console.log(a.email),console.log(a.uid)),console.log("auth"+j);var R=Boolean(N),F=Object(T.g)(),A=function(){P(null)};function B(){return(B=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c();case 3:b(!1),F.push("/HelpWhoNeeds"),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),b(null!==a),console.log(e.t0),alert("failed to log out");case 12:console.log("auth"+j),A();case 14:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(h.a,{children:Object(n.jsx)(m.a,{control:Object(n.jsx)(O.a,{checked:j,onChange:function(e){b(e.target.checked)},"aria-label":"login switch"}),label:j?"Logout":"Login"})}),Object(n.jsx)(x.a,{position:"static",className:e.appBar,children:Object(n.jsxs)(f.a,{children:[Object(n.jsx)(W,{color:"action",fontSize:"large",onClick:function(e){return window.location.href="/helpwhoneeds/"}}),Object(n.jsx)(g.a,{variant:"h6",className:e.title,children:"Help Who Needs"}),Object(n.jsx)(v.a,{color:"inherit",component:S.b,to:"/about",children:"About"}),Object(n.jsx)(v.a,{color:"inherit",component:S.b,to:"/contact",children:"Contact"}),j&&Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){P(e.currentTarget)},color:"inherit",children:Object(n.jsx)(D.a,{})}),Object(n.jsxs)(w.a,{id:"menu-appbar",anchorEl:N,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:R,onClose:A,children:[Object(n.jsx)(k.a,{onClick:function(){F.push("/profile"),A()},children:"Profile"}),Object(n.jsx)(k.a,{onClick:function(){return B.apply(this,arguments)},children:"Sign Out"})]})]})]})})]})},_=Object(b.a)({button:{margin:"10px"},pInfo:{textAlign:"center"},divContentWrapper:{textAlign:"center",minHeight:"100%",paddingLeft:"50px"}}),H=function(){var e=_(),t=I().currentUser,a=Object(T.g)();return Object(n.jsxs)("div",{className:e.divContentWrapper,children:[Object(n.jsx)("h1",{children:"Help Who Needs"}),Object(n.jsx)("p",{children:"Our TechForGood project aims to match a volunteer with a vulnerable person who is shielding in these unprecedented times. Hence our application is called HelpWhoNeeds. The app will aim to match a volunteer with a vulnerable person in their immediate local area helping with chores such as shopping, GP visits, prescriptions, dog walking or just some social contact with the appropriate measures in place. We hope this app brings some comfort and relief to the users with a sense of moral and social obligation."}),Object(n.jsxs)("p",{className:e.pInfo,children:[" If you would like help or need any assistance using our system, please call ",Object(n.jsx)("strong",{children:"0800 123 4567"}),"."]}),Object(n.jsx)(v.a,{className:e.button,variant:"outlined",color:"default",onClick:function(){t?a.push("/addTask"):a.push("/login/requestee")},children:"I need Help"}),Object(n.jsx)(v.a,{className:e.button,variant:"outlined",color:"default",onClick:function(){t?a.push("/myTask"):a.push("/login/volunteer")},children:"I can Help"})]})},E=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"This is the Legal Page"}),Object(n.jsx)("p",{children:"End-user privacy. Intellectual property (IP) rights. Advertising and promotions. Users of this app must be 18 or over."})]})},q=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"This is the Cookie Page"}),Object(n.jsx)("p",{children:"Cookie Policy"})]})},M=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"This is the Support Page"}),Object(n.jsx)("p",{children:"Add the Support form"})]})},U=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"This is the Terms Page"}),Object(n.jsx)("p",{children:"Add the form"})]})},z=a(729),Y=Object(b.a)({button:{margin:"10px"},pInfo:{textAlign:"center"},divContentWrapper:{textAlign:"center",minHeight:"100%",paddingLeft:"50px"}}),V=function(){var e=Y();return Object(n.jsxs)("div",{className:e.divContentWrapper,children:[Object(n.jsx)("h1",{children:"YourTechAngels - Project HelpWhoNeeds"}),Object(n.jsx)("p",{children:"Established in 2020, Your Tech Angels is a collaborative team of 4 engineers who are involved and interested in technology.  Our aim is to use technology to help others especially during the Covid 19 pandemic. This is the motivation behind our HelpWhoNeeds project that assists the shielding population in the UK with everyday assistance such as delivering groceries or prescriptions, dog walking or even just a chat. The app we are building will help those who need to find a volunteer match in their local areas - near their vicinity based on their post code during lockdown and other times too."}),Object(n.jsxs)("p",{className:e.pInfo,children:[" You can request Volunteer help 24x7 - ",Object(n.jsx)("strong",{children:"0800 123 4567"})]}),Object(n.jsxs)(z.a,{container:!0,direction:"row",alignItems:"center",spacing:3,children:[Object(n.jsxs)(z.a,{container:!0,item:!0,xs:2,spacing:3,children:[Object(n.jsx)(S.b,{to:"/legal",variant:"body2",children:"Legal"})," "]}),Object(n.jsxs)(z.a,{container:!0,item:!0,xs:2,spacing:3,children:[Object(n.jsx)(S.b,{to:"/cookie",variant:"body2",children:"Cookie"})," "]}),Object(n.jsxs)(z.a,{container:!0,item:!0,xs:2,spacing:3,children:[Object(n.jsx)(S.b,{to:"/support",variant:"body2",children:"Support"})," "]}),Object(n.jsxs)(z.a,{container:!0,item:!0,xs:2,spacing:3,children:[Object(n.jsx)(S.b,{to:"/termcondition",variant:"body2",children:"Terms Conditions"})," "]}),Object(n.jsxs)(z.a,{container:!0,item:!0,xs:2,spacing:3,children:[Object(n.jsx)(S.b,{to:"/contact",variant:"body2",children:"Contact"})," "]})]})]})},G=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"This is the Contact Page"}),Object(n.jsx)("p",{children:"Add the Contact form"})]})},J=Object(b.a)({footer:{boxSizing:"border-box",height:"50px",padding:"15px",backgroundColor:"#eee",borderTop:"1px solid #e0e0e0",position:"absolute",width:"100%",textAlign:"center"}});var K=function(){var e=J();return Object(n.jsx)("footer",{className:e.footer,children:Object(n.jsxs)("div",{children:["Made by ",Object(n.jsx)("a",{href:"https://github.com/YourTechAngels",children:"YourTechAngels"})]})})},Q=a(742),X=a(731),Z=a(332),$=a(395),ee=a(740),te=a(732),ae=a(259),ne=a(130),se=a.n(ne),ie=a(730);function ce(){return Object(n.jsxs)(g.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(S.b,{color:"inherit",to:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var re=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function oe(){var e=re(),t=Object(T.h)().userType,a=Object(s.useRef)(),i=Object(s.useRef)(),c=I(),r=c.login,o=c.currentUser,j=Object(s.useState)(""),b=Object(u.a)(j,2),p=b[0],h=b[1],O=Object(s.useState)(""),x=Object(u.a)(O,2),f=x[0],y=x[1],w=Object(s.useState)(""),k=Object(u.a)(w,2),C=k[0],D=k[1],N=Object(s.useState)(!1),P=Object(u.a)(N,2),R=P[0],F=P[1],A=Object(T.g)(),L="AssistanceRequester"==="".concat(t)?"Requestee":"".concat(t);function W(){return(W=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,h(""),F(!0),e.next=6,r(a.current.value,i.current.value);case 6:"volunteer"==="".concat(t)?(A.push("/mytask"),console.log("/helpwhoneeds")):A.push("/addtask"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),h("Failed to log in");case 12:F(!1),o&&(y(o.email),D(o.ui),console.log(f),console.log(C));case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(n.jsxs)(ie.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(X.a,{}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(Q.a,{className:e.avatar,children:Object(n.jsx)(se.a,{})}),Object(n.jsxs)(g.a,{component:"h1",variant:"h5",children:[L," Sign in"]}),p&&Object(n.jsx)(ee.a,{severity:"error",children:Object(n.jsxs)(te.a,{children:["Error: ",p]})}),Object(n.jsxs)("form",{onSubmit:function(e){return W.apply(this,arguments)},children:[Object(n.jsx)(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"email",inputRef:a,id:"email",label:"Email Address",autoFocus:!0}),Object(n.jsx)(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"password",inputRef:i,label:"Password",id:"password"}),Object(n.jsx)(m.a,{control:Object(n.jsx)($.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(n.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:R,children:"Sign In"}),Object(n.jsxs)(z.a,{container:!0,children:[Object(n.jsx)(z.a,{item:!0,xs:!0,children:Object(n.jsx)(S.b,{to:"/forgotPassword/".concat(t),variant:"body2",children:"Forgot password?"})}),Object(n.jsx)(z.a,{container:!0,children:Object(n.jsx)(z.a,{item:!0,xs:!0,children:Object(n.jsxs)("div",{className:"w-100 text-center mt-2",children:["New User ?",Object(n.jsx)(S.b,{to:"/signup/".concat(t),variant:"body2",children:"Sign Up "})]})})})]})]})]}),Object(n.jsx)(ae.a,{mt:8,children:Object(n.jsx)(ce,{})})]})}function le(){return Object(n.jsxs)(g.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(S.b,{color:"inherit",to:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var de=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ue(){var e=Object(s.useRef)(),t=Object(s.useRef)(),a=Object(s.useRef)(),i=I().signup,c=Object(s.useState)(""),r=Object(u.a)(c,2),o=r[0],j=r[1],b=Object(s.useState)(!1),p=Object(u.a)(b,2),h=p[0],m=p[1],O=Object(T.g)(),x=de(),f=Object(T.h)().user;function y(){return(y=Object(d.a)(l.a.mark((function n(s){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s.preventDefault(),console.log(e.current.value,t.current.value,a.current.value),t.current.value===a.current.value){n.next=4;break}return n.abrupt("return",j("Passwords does not match"));case 4:return n.prev=4,j(""),m(!0),n.next=9,i(e.current.value,t.current.value);case 9:O.push("/registrationpage/".concat(f)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),j("Failed to create an account");case 15:m(!1);case 16:case"end":return n.stop()}}),n,null,[[4,12]])})))).apply(this,arguments)}return Object(n.jsxs)(ie.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(X.a,{}),Object(n.jsxs)("div",{className:x.paper,children:[Object(n.jsx)(Q.a,{className:x.avatar,children:Object(n.jsx)(se.a,{})}),Object(n.jsx)(g.a,{component:"h1",variant:"h5",children:"Sign Up"}),o&&Object(n.jsx)(ee.a,{severity:"error",children:Object(n.jsxs)(te.a,{children:["Error: ",o]})}),Object(n.jsxs)("form",{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(n.jsx)(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"email",inputRef:e,id:"email",label:"Email Address",autoFocus:!0}),Object(n.jsx)(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"password",inputRef:t,label:"Password",id:"password"}),Object(n.jsx)(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"password",inputRef:a,label:"Confirm Password",id:"passwordConfirm"}),Object(n.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"contained",disabled:h,color:"primary",children:"Sign Up"})]})]}),"  ",Object(n.jsx)(ae.a,{mt:8,children:Object(n.jsx)(le,{})})]})}var je=a(26),be=a(56),pe=a(76),he=a.n(pe),me=a(263),Oe=a(264),xe=a(265),fe=a(733),ge={textFld:{width:"85%",height:40,paddingLeft:8},button:{border:"4px",fontWeight:"bold",alignItems:"center",marginRight:"20px",marginTop:"10px"}};function ve(e){var t=Object(s.useState)({initialInputState:{firstName:"",lastName:"",dateOfBirth:"",phoneNumber:"",postcode:"",address1:"",address2:"",city:"",county:"",email:""}}),a=Object(u.a)(t,2),c=a[0],r=a[1],o=c.firstName,b=c.lastName,p=c.dateOfBirth,h=c.phoneNumber,O=c.postcode,x=c.address1,f=c.address2,g=c.city,y=c.county,w=c.email,k=Object(s.useState)(""),C=Object(u.a)(k,2),D=C[0],N=C[1],P=Object(s.useRef)(),R=Object(s.useRef)(),F=Object(s.useRef)(),A=Object(s.useRef)(),L=Object(s.useRef)(),W=Object(s.useRef)(),B=Object(s.useRef)(),_=Object(s.useRef)(),H=I(),E=H.currentUser,q=H.updatePassword,M=H.updateEmail,U=E.uid,Y=(E.email,Object(s.useState)(!1)),V=Object(u.a)(Y,2),G=V[0],J=V[1],K=i.a.useState(!0),Q=Object(u.a)(K,2),X=(Q[0],Q[1],Object(s.useState)("")),ae=Object(u.a)(X,2),ne=ae[0],se=ae[1],ie=Object(s.useState)(""),ce=Object(u.a)(ie,2),re=ce[0],oe=ce[1],le=Object(s.useState)(""),de=Object(u.a)(le,2),ue=de[0],pe=de[1],ve=Object(s.useState)(""),ye=Object(u.a)(ve,2),we=ye[0],ke=ye[1],Ce=Object(s.useState)(""),De=Object(u.a)(Ce,2),Te=De[0],Se=De[1],Ne=Object(s.useState)(!1),Pe=Object(u.a)(Ne,2),Re=Pe[0],Fe=Pe[1],Ie=Object(s.useState)(""),Ae=Object(u.a)(Ie,2),Le=Ae[0],We=Ae[1],Be=Object(s.useState)(""),_e=Object(u.a)(Be,2),He=_e[0],Ee=_e[1],qe=Object(s.useState)(!1),Me=Object(u.a)(qe,2),Ue=Me[0],ze=Me[1],Ye=Object(s.useState)(""),Ve=Object(u.a)(Ye,2),Ge=Ve[0],Je=Ve[1],Ke=Object(s.useState)(!1),Qe=Object(u.a)(Ke,2),Xe=Qe[0],Ze=Qe[1],$e=Object(T.g)();Object(T.h)().user;Object(s.useEffect)((function(){he.a.get("http://localhost:8000/api/accounts/get_user_by_id/",{params:{uid:U}}).then((function(e){var t=e.data[0];console.log(t);var a={firstName:"".concat(t.first_name),lastName:"".concat(t.last_name),dateOfBirth:"".concat(t.date_of_birth),phoneNumber:"".concat(t.phone_number),postcode:"".concat(t.post_code),address1:"".concat(t.address_line_1),address2:"".concat(t.address_line_2),city:"".concat(t.city),county:"".concat(t.county),email:"".concat(t.email)};r({lastName:a.lastName,firstName:a.firstName,dateOfBirth:a.dateOfBirth,postcode:a.postcode,phoneNumber:a.phoneNumber,address1:a.address1,address2:a.address2,city:a.city,county:a.county,email:a.email}),Ee(t.id),console.log(t.is_volunteer),ze(t.is_volunteer),J(t.dbs),console.log(t.dbs),console.log(c),console.log(Ue+" "+G)})).catch((function(e){console.log("error"),console.log(e.request),console.log(e.config),console.log(e.message)}))}),[U]);var et=function(e){r(Object(j.a)(Object(j.a)({},c),{},Object(be.a)({},e.target.name,e.target.value)))},tt=function(e){J(e.target.checked),console.log(G)};function at(){return(at=Object(d.a)(l.a.mark((function e(t){var a,n,s,i,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(y+" "+U+" "+G),a=""===ne?L.current.value:ne,n=""===re?W.current.value:re,s=""===we?B.current.value:we,i=""===ue?_.current.value:ue,r=void 0===p?"1900-00-00":p,console.log(a+""+n+" "+s+" "+i),console.log(P.current.value),""!==P.current.value&&null!==P.current.value){e.next=13;break}console.log(c),e.next=21;break;case 13:if(A.current.value===F.current.value){e.next=15;break}return e.abrupt("return",We("Passwords does not match"));case 15:o=[],Ze(!0),We(""),P.current.value!==E.email&&o.push(M(P.current.value)),A.current.value&&o.push(q(A.current.value)),Promise.all(o).then((function(){$e.push("/helpwhoneeds/")})).catch((function(){We("Failed to update account")})).finally((function(){Ze(!1)}));case 21:he.a.patch("http://localhost:8000/api/accounts/"+He+"/",{first_name:"".concat(c.firstName),last_name:"".concat(c.lastName),email:"".concat(P.current.value),date_of_birth:"".concat(r),phone_number:"".concat(c.phoneNumber),post_code:"".concat(c.postcode),address_line_1:"".concat(a),address_line_2:"".concat(n),city:"".concat(s),county:"".concat(i),dbs:"".concat(G)}).then((function(e){console.log(e),N("Data has been updated successfully"),console.log(D)})).catch((function(e){console.log(e)})),console.log(D);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsx)(i.a.Fragment,{children:Object(n.jsxs)("div",{style:{width:"80vw"},children:[Object(n.jsx)("h2",{align:"center",children:" My Profile"}),!Le&&D&&Object(n.jsx)(ee.a,{severity:"success",children:Object(n.jsx)(te.a,{children:D})}),Le&&Object(n.jsx)(ee.a,{severity:"error",children:Object(n.jsx)(te.a,{children:Le})}),Object(n.jsxs)(z.a,{container:!0,"flex-start":"left",children:[Object(n.jsx)("p",{style:{paddingLeft:8},children:"Please enter your details here"})," "]}),Object(n.jsxs)("form",{onSubmit:function(e){return at.apply(this,arguments)},children:[Object(n.jsxs)(z.a,{container:!0,spacing:3,children:[Object(n.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{id:"firstName",type:"text",name:"firstName",label:"First name",variant:"outlined",onChange:et,value:o||"",style:ge.textFld,autoComplete:"given-name"})}),Object(n.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{id:"lastName",name:"lastName",type:"text",label:"Last name",variant:"outlined",onChange:et,value:b||"",style:ge.textFld,autoComplete:"family-name"})}),Object(n.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{id:"dateOfBirth",name:"dateOfBirth",type:"date",InputLabelProps:{shrink:!0},label:"Date Of Birth",onChange:et,value:p||"",variant:"outlined",style:ge.textFld})}),Object(n.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{required:!0,id:"phoneNumber",name:"phoneNumber",label:"Phone Number",onChange:et,value:h||"",variant:"outlined",inputProps:{maxLength:12},style:ge.textFld})}),Object(n.jsxs)(z.a,{item:!0,xs:12,sm:6,children:[Object(n.jsxs)(fe.a,{children:[Object(n.jsx)(Z.a,{required:!0,id:"postcode",name:"postcode",label:"Post code",variant:"outlined",onChange:et,inputRef:R,value:O||"",style:ge.textFld,autoComplete:" postal-code"}),Object(n.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(v.a,{variant:"outlined",type:"submit",onClick:function(e){e.preventDefault(),he.a.get("https://api.getAddress.io/find/".concat(R.current.value,"?api-key=").concat("d0T3wFfYb06oqfMZ_v1JXg29844")).then((function(e){var t=e.data;Se(t.addresses)," "===Te?Je("No addresses found at the given post code"):Fe(!0),console.log(Te)})).catch((function(e){Je("No addresses found at the given post code"),console.log(Ge)}))},children:"Find Address"})})]}),"  "]}),Object(n.jsxs)(z.a,{item:!0,xs:12,sm:6,children:[Re&&Object(n.jsxs)(me.a,{variant:"outlined",style:{width:"100%",height:40,paddingLeft:8},children:[Object(n.jsx)(Oe.a,{htmlFor:"outlined-age-native-simple",children:"Select Addresses"}),Object(n.jsx)(xe.a,{native:!0,id:"demo-simple-select-outlined",labelId:"demo-simple-select-outlined-label",style:ge.textFld,variant:"outlined",label:"Select Addresses",onChange:function(e){var t=Object(je.a)(e.target.selectedOptions).map((function(e){return e.value}));if(""!=={valueList:t}){var a=t.toString().split(",");console.log(a),se(a[0]),oe(a[1]),ke(a[5]),pe(a[6])}},children:Te.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))})]}),Ge&&Object(n.jsx)(ee.a,{severity:"error",children:Object(n.jsxs)(te.a,{children:["Error: ",Ge]})})]}),Object(n.jsxs)(z.a,{item:!0,xs:12,children:[!Re&&Object(n.jsx)(Z.a,{required:!0,id:"address1",name:"address1",label:"Address line 1",onChange:et,inputRef:L,value:x||"",variant:"outlined",style:ge.textFld,autoComplete:"address-line1"}),Re&&Object(n.jsx)(Z.a,{required:!0,id:"address1",name:"address1",label:"Address line 1",value:ne||"",variant:"outlined",style:ge.textFld,autoComplete:"address-line1"})]}),Object(n.jsxs)(z.a,{item:!0,xs:12,children:[!Re&&Object(n.jsx)(Z.a,{id:"address2",name:"address2",label:"Address line 2",onChange:et,inputRef:W,value:f||"",variant:"outlined",style:ge.textFld,autoComplete:"address-line2"}),Re&&Object(n.jsx)(Z.a,{id:"address2",name:"address2",label:"Address line 2",value:re||"",variant:"outlined",style:ge.textFld,autoComplete:"address-line2"})]}),Object(n.jsxs)(z.a,{item:!0,xs:12,sm:6,children:[!Re&&Object(n.jsx)(Z.a,{required:!0,id:"city",name:"city",label:"City",onChange:et,inputRef:B,value:g||"",variant:"outlined",style:ge.textFld,autoComplete:"city"}),Re&&Object(n.jsx)(Z.a,{required:!0,id:"city",name:"city",label:"City",value:we||"",variant:"outlined",style:ge.textFld,autoComplete:"city"})]}),Object(n.jsxs)(z.a,{item:!0,xs:12,sm:6,children:[!Re&&Object(n.jsx)(Z.a,{id:"county",name:"county",label:"County",onChange:et,inputRef:_,value:y||"",variant:"outlined",style:ge.textFld,autoComplete:"county"}),Re&&Object(n.jsx)(Z.a,{id:"county",name:"county",label:"County",value:ue||"",variant:"outlined",style:ge.textFld,autoComplete:"county"})]}),Object(n.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{id:"email",name:"email",type:"email",label:"Email Address",inputRef:P||"",onChange:et,value:w||"",variant:"outlined",style:ge.textFld})}),Object(n.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{id:"password",name:"password",type:"password",label:"Password",inputRef:A,variant:"outlined",style:ge.textFld})}),Object(n.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{id:"passwordConfirm",name:"city",type:"password",label:"Confirm Password",inputRef:F,variant:"outlined",style:ge.textFld})}),Object(n.jsxs)(z.a,{item:!0,xs:12,children:["true"==="".concat(Ue)&&"true"==="".concat(G)&&Object(n.jsx)(m.a,{control:Object(n.jsx)($.a,{color:"secondary",style:{marginLeft:"5px"},name:"dbsCheck",checked:"checked",onChange:tt}),label:"I have a valid DBS certificate"}),"true"==="".concat(Ue)&&"false"==="".concat(G)&&Object(n.jsx)(m.a,{control:Object(n.jsx)($.a,{color:"secondary",style:{marginLeft:"5px"},name:"dbsCheck",value:G,onChange:tt}),label:"I have a valid DBS certificate"})]})]}),Object(n.jsx)(z.a,{container:!0,justify:"center",spacing:3,direction:"row",children:Object(n.jsxs)(fe.a,{className:"w-100 text-center mt-2",children:[Object(n.jsx)(z.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{disabled:Xe,variant:"contained",style:ge.button,className:"btn btn-primary w-100",type:"submit",children:"Update"})}),Object(n.jsx)(z.a,{item:!0,xs:12,children:Object(n.jsx)(v.a,{variant:"contained",style:ge.button,className:"btn btn-primary w-100",component:S.b,to:"/helpwhoneeds/",children:"Cancel"})})]})})]})]})})}function ye(){return Object(n.jsxs)(g.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(S.b,{color:"inherit",to:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var we=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ke(){var e=we(),t=Object(s.useRef)(),a=I().resetPassword,i=Object(s.useState)(""),c=Object(u.a)(i,2),r=c[0],o=c[1],j=Object(s.useState)(""),b=Object(u.a)(j,2),p=b[0],h=b[1],m=Object(s.useState)(!1),O=Object(u.a)(m,2),x=O[0],f=O[1],y=Object(T.h)().user;function w(){return(w=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,h(""),o(""),f(!0),e.next=7,a(t.current.value);case 7:h("Check your inbox for password reset instructions"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),o("Failed to reset password");case 13:f(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(n.jsxs)(ie.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(X.a,{}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(Q.a,{className:e.avatar,children:Object(n.jsx)(se.a,{})}),Object(n.jsx)(g.a,{component:"h1",variant:"h5",children:" Forgot Password "}),r&&Object(n.jsx)(ee.a,{severity:"error",children:Object(n.jsxs)(te.a,{children:["Error: ",r]})}),p&&Object(n.jsx)(ee.a,{severity:"success",children:Object(n.jsx)(te.a,{children:p})}),Object(n.jsxs)("form",{onSubmit:function(e){return w.apply(this,arguments)},children:[Object(n.jsx)(Z.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"email",inputRef:t,id:"email",label:"Email Address"}),Object(n.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"contained",disabled:x,color:"primary",children:"Reset Password"})]}),Object(n.jsx)(z.a,{container:!0,children:Object(n.jsx)(z.a,{item:!0,xs:!0,children:Object(n.jsxs)("div",{className:"w-100 text-center mt-2",children:["Go to ",Object(n.jsx)(S.b,{to:"/login/".concat(y),variant:"body2",children:"Sign In"})]})})}),Object(n.jsx)(z.a,{container:!0,children:Object(n.jsx)(z.a,{item:!0,xs:!0,children:Object(n.jsxs)("div",{className:"w-100 text-center mt-3",children:["New User ?",Object(n.jsx)(S.b,{to:"/signup/".concat(y),variant:"body2",children:"Sign Up "})]})})})]}),"  ",Object(n.jsx)(ae.a,{mt:8,children:Object(n.jsx)(ye,{})})]})}var Ce={textFld:{width:"85%",height:40,paddingLeft:8},button:{border:"4px",fontWeight:"bold",marginLeft:10,marginTop:"10px"}};function De(e){var t=Object(s.useState)({initialInputState:{firstName:"",lastName:"",dateOfBirth:"",phoneNumber:"",postcode:"",address1:"",address2:"",city:"",county:""}}),a=Object(u.a)(t,2),c=a[0],r=a[1],o=c.firstName,b=c.lastName,p=c.dateOfBirth,h=c.phoneNumber,O=c.postcode,x=c.address1,f=c.address2,g=c.city,y=c.county,w=Object(s.useState)(""),k=Object(u.a)(w,2),C=k[0],D=k[1],S=Object(s.useRef)(),N=Object(s.useRef)(),P=Object(s.useRef)(),R=Object(s.useRef)(),F=Object(s.useRef)(),A=Object(T.h)().user,L=I().currentUser,W=L.uid,B=L.email,_=Object(s.useState)(!1),H=Object(u.a)(_,2),E=H[0],q=H[1],M=Object(s.useState)(""),U=Object(u.a)(M,2),Y=U[0],V=U[1],G=Object(s.useState)(""),J=Object(u.a)(G,2),K=J[0],Q=J[1],X=Object(s.useState)(""),ae=Object(u.a)(X,2),ne=ae[0],se=ae[1],ie=Object(s.useState)(""),ce=Object(u.a)(ie,2),re=ce[0],oe=ce[1],le=Object(s.useState)(""),de=Object(u.a)(le,2),ue=de[0],pe=de[1],ge=Object(s.useState)(!1),ve=Object(u.a)(ge,2),ye=ve[0],we=ve[1],ke=Object(s.useState)(""),De=Object(u.a)(ke,2),Te=De[0],Se=De[1],Ne=function(e){r(Object(j.a)(Object(j.a)({},c),{},Object(be.a)({},e.target.name,e.target.value)))};function Pe(){return(Pe=Object(d.a)(l.a.mark((function e(t){var a,n,s,i,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a="volunteer"===A,console.log(a+" "+y+" "+W+" "+E),n=""===Y?N.current.value:Y,s=""===K?P.current.value:K,i=""===re?R.current.value:re,r=""===ne?F.current.value:ne,o=void 0===p?"1900-00-00":p,console.log(n+""+s+" "+i+" "+r),he.a.post("http://localhost:8000/api/accounts/",{first_name:"".concat(c.firstName),last_name:"".concat(c.lastName),uid:"".concat(W),email:"".concat(B),date_of_birth:"".concat(o),phone_number:"".concat(c.phoneNumber),post_code:"".concat(c.postcode),address_line_1:"".concat(n),address_line_2:"".concat(s),city:"".concat(i),county:"".concat(r),dbs:"".concat(E),is_volunteer:"".concat(a)}).then((function(e){console.log(e),D("Data has been saved successfully")})).catch((function(e){console.log(e)}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsx)(i.a.Fragment,{children:Object(n.jsxs)("div",{style:{width:"80vw"},children:[Object(n.jsx)("h2",{align:"center",children:" Registration form"}),C&&Object(n.jsx)(ee.a,{severity:"success",children:Object(n.jsx)(te.a,{children:C})}),Object(n.jsxs)(z.a,{container:!0,"flex-start":"left",children:[Object(n.jsx)("p",{style:{paddingLeft:8},children:"Please enter your details here"})," "]}),Object(n.jsxs)("form",{onSubmit:function(e){return Pe.apply(this,arguments)},children:[Object(n.jsxs)(z.a,{container:!0,spacing:3,children:[Object(n.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{required:!0,id:"firstName",type:"text",name:"firstName",label:"First name",variant:"outlined",onChange:Ne,value:o||"",inputProps:{maxLength:20},style:Ce.textFld,autoComplete:"given-name"})}),Object(n.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{required:!0,id:"lastName",name:"lastName",type:"text",label:"Last name",onChange:Ne,value:b||"",inputProps:{maxLength:20},variant:"outlined",style:Ce.textFld,autoComplete:"family-name"})}),Object(n.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{id:"dateOfBirth",name:"dateOfBirth",type:"date",InputLabelProps:{shrink:!0},label:"Date Of Birth",onChange:Ne,value:p||"",variant:"outlined",style:Ce.textFld})}),Object(n.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{id:"phoneNumber",name:"phoneNumber",label:"Phone Number",onChange:Ne,value:h||"",variant:"outlined",inputProps:{maxLength:12},style:Ce.textFld})}),Object(n.jsxs)(z.a,{item:!0,xs:12,sm:6,children:[Object(n.jsxs)(fe.a,{children:[Object(n.jsx)(Z.a,{required:!0,id:"postcode",name:"postcode",label:"Post code",variant:"outlined",onChange:Ne,inputRef:S,value:O||"",style:Ce.textFld,autoComplete:" postal-code"}),Object(n.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(v.a,{variant:"outlined",type:"submit",onClick:function(e){e.preventDefault();he.a.get("https://api.getAddress.io/find/".concat(S.current.value,"?api-key=").concat("d0T3wFfYb06oqfMZ_v1JXg29844")).then((function(e){var t=e.data;pe(t.addresses)," "===ue?Se("No addresses found at the given post code"):we(!0),console.log(ue)})).catch((function(e){Se("No addresses found at the given post code"),console.log(e)}))},children:"Find Address"})})]}),"  "]}),Object(n.jsxs)(z.a,{item:!0,xs:12,sm:6,children:[ye&&Object(n.jsxs)(me.a,{variant:"outlined",style:{width:"100%",height:40,paddingLeft:8},children:[Object(n.jsx)(Oe.a,{htmlFor:"outlined-age-native-simple",children:"Select Addresses"}),Object(n.jsx)(xe.a,{native:!0,id:"demo-simple-select-outlined",labelId:"demo-simple-select-outlined-label",style:Ce.textFld,variant:"outlined",label:"Select Addresses",onChange:function(e){var t=Object(je.a)(e.target.selectedOptions).map((function(e){return e.value}));if(""!=={valueList:t}){var a=t.toString().split(",");console.log(a),V(a[0]),Q(a[1]),oe(a[5]),se(a[6])}},children:ue.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))})]}),Te&&Object(n.jsx)(ee.a,{severity:"error",children:Object(n.jsxs)(te.a,{children:["Error: ",Te]})})]}),Object(n.jsxs)(z.a,{item:!0,xs:12,children:[!ye&&Object(n.jsx)(Z.a,{required:!0,id:"address1",name:"address1",label:"Address line 1",onChange:Ne,inputRef:N,value:x||"",variant:"outlined",style:Ce.textFld,autoComplete:"address-line1"}),ye&&Object(n.jsx)(Z.a,{required:!0,id:"address1",name:"address1",label:"Address line 1",value:Y||"",variant:"outlined",style:Ce.textFld,autoComplete:"address-line1"})]}),Object(n.jsxs)(z.a,{item:!0,xs:12,children:[!ye&&Object(n.jsx)(Z.a,{id:"address2",name:"address2",label:"Address line 2",onChange:Ne,inputRef:P,value:f||"",variant:"outlined",style:Ce.textFld,autoComplete:"address-line2"}),ye&&Object(n.jsx)(Z.a,{id:"address2",name:"address2",label:"Address line 2",value:K||"",variant:"outlined",style:Ce.textFld,autoComplete:"address-line2"})]}),Object(n.jsxs)(z.a,{item:!0,xs:12,sm:6,children:[!ye&&Object(n.jsx)(Z.a,{required:!0,id:"city",name:"city",label:"City",onChange:Ne,inputRef:R,value:g||"",variant:"outlined",style:Ce.textFld,autoComplete:"city"}),ye&&Object(n.jsx)(Z.a,{required:!0,id:"city",name:"city",label:"City",value:re||"",variant:"outlined",style:Ce.textFld,autoComplete:"city"})]}),Object(n.jsxs)(z.a,{item:!0,xs:12,sm:6,children:[!ye&&Object(n.jsx)(Z.a,{id:"county",name:"county",label:"County",onChange:Ne,inputRef:F,value:y||"",variant:"outlined",style:Ce.textFld,autoComplete:"county"}),ye&&Object(n.jsx)(Z.a,{id:"county",name:"county",label:"County",value:ne||"",variant:"outlined",style:Ce.textFld,autoComplete:"county"})]}),Object(n.jsx)(z.a,{item:!0,xs:12,children:"volunteer"==="".concat(A)&&Object(n.jsx)(m.a,{control:Object(n.jsx)($.a,{color:"secondary",style:{marginLeft:"5px"},name:"DBSchecked",value:E,onChange:function(e){q(e.target.checked),console.log(E)}}),label:"I have a valid DBS certificate"})})]}),Object(n.jsx)(z.a,{container:!0,justify:"center",spacing:3,direction:"row",children:Object(n.jsx)(z.a,{item:!0,xs:12,align:"center",children:Object(n.jsx)(v.a,{variant:"contained",className:"btn btn-primary w-100",type:"submit",children:"Submit"})})})]})]})})}var Te=a(734),Se=a(735),Ne=a(736),Pe=a(737),Re=a(710),Fe=a(18),Ie=function(e){return{textFld:{width:"85%",height:40,paddingLeft:8},button:{border:"4px",color:"default",fontWeight:"bold",marginLeft:10,marginTop:"10px"},form:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content"}}},Ae=function(e){var t=e.open,a=e.handleClose,s=e.title,i=e.data,c=Object(Fe.a)(),r=Object(Re.a)(c.breakpoints.down("sm"));return console.log(i),Object(n.jsx)("div",{children:Object(n.jsxs)(Te.a,{open:t,onClose:a,fullScreen:r,"aria-labelledby":"responsive-dialog-title",children:[Object(n.jsx)(Se.a,{children:s}),Object(n.jsx)(Ne.a,{children:Object(n.jsx)("form",{className:Ie.form,noValidate:!0,children:i&&Object(n.jsxs)(z.a,{container:!0,spacing:3,children:[i.firstName," ",i.lastName,Object(n.jsx)(z.a,{item:!0,xs:12,sm:12,children:Object(n.jsx)(Z.a,{id:"taskType",type:"string",label:"Task",value:i.taskType,variant:"outlined",style:Ie.textFld,autoComplete:"family-name"})}),Object(n.jsx)(z.a,{item:!0,xs:12,sm:12,children:Object(n.jsx)(Z.a,{id:"taskDetails",type:"string",label:"Task Summary",value:i.taskDetails,variant:"outlined",multiline:!0,rows:6,style:Ie.textFld,autoComplete:"family-name"})}),Object(n.jsx)(z.a,{item:!0,xs:12,sm:6}),Object(n.jsx)(z.a,{item:!0,xs:12,sm:6})]})})}),Object(n.jsx)(Pe.a,{children:Object(n.jsx)(v.a,{autoFocus:!0,onClick:a,color:"primary",children:"Close"})})]})})},Le=a(738),We=Object(b.a)((function(e){return{root:{top:e.spacing(15)}}}));var Be=function(e){var t=We(),a=e.notify,s=e.setNotify,i=function(e,t){"clickaway"!==t&&s(Object(j.a)(Object(j.a)({},a),{},{isOpen:!1}))};return Object(n.jsx)(Le.a,{className:t.root,open:a.isOpen,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:i,children:Object(n.jsx)(ee.a,{severity:a.type,onClose:i,children:a.message})})},_e=Object(b.a)((function(e){return{dailog:{padding:e.spacing(2),position:"absolute",top:e.spacing(15)},dailogContent:{textAlign:"center"},dailogAction:{justifyContent:"center"}}})),He=function e(t){var a=_e(),s=t.confirmDialog,i=t.setConfirmDialog;return Object(n.jsxs)(Te.a,{open:s.isOpen,className:a.dailog,children:[Object(n.jsx)(Se.a,{children:Object(n.jsx)(g.a,{variant:"h6",children:s.title})}),Object(n.jsx)(Ne.a,{className:a.dailogContent,children:Object(n.jsx)(g.a,{variant:"subtitle2",children:s.subTitle})}),Object(n.jsxs)(Pe.a,{className:a.dailogAction,children:[Object(n.jsx)(v.a,{variant:"contained",size:"small",style:{minWidth:"90px"},onClick:s.onConfirm,children:"OK"}),Object(n.jsx)(v.a,{variant:"contained",size:"small",style:{minWidth:"90px"},onClick:function(){return i(Object(j.a)(Object(j.a)({},e),{},{isOpen:!1}))},children:"Cancel"})]})]})},Ee=a(206),qe=a.n(Ee),Me=a(118),Ue=a(739),ze=a(101),Ye=a.n(ze),Ve="DD MMM YYYY",Ge={filterType:"multiselect",selectableRows:"none",rowsPerPage:5,rowsPerPageOptions:[5,10,15,20],print:!1,download:!1,sortOrder:{name:"start",direction:"desc"}};function Je(e){var t=e.taskListData,a=e.isMyTask,s=e.handleAccept,i=e.handleView,c=e.handleReject,r=e.handleComplete,o=[{name:"id",label:"ID",options:{display:!1,sort:!1,filter:!1,viewColumns:!1}},{name:"volId",label:"volunteer ID",viewColumns:!1,options:{display:!1,sort:!1,filter:!1}},{name:"status",label:"State",viewColumns:!1,options:{display:!1,filter:!1,sort:!1,width:"10%"}},{name:"firstName",label:"First name",options:{display:!1,filter:!0,sort:!0}},{name:"lastName",label:"Last name",options:{display:!1,filter:!0,sort:!0}},{name:"firstName",label:"Full Name",options:{filter:!1,sort:!1,customBodyRender:function(e,t,a){return Object(n.jsxs)("div",{children:[t.rowData[3]," ",t.rowData[4]]})}}},{name:"taskType",label:"Task",options:{filter:!0,sort:!0}},{name:"start",label:"Start Time",options:{filter:!1,sort:!0,width:"10%",customBodyRender:function(e){return Ye()(e).format("lll")}}},{name:"end",label:"End Time",options:{filter:!1,sort:!0,width:"10%",customBodyRender:function(e){return Ye()(e).format("lll")}}},{name:"start",label:"Start Date",viewColumns:!1,options:{filter:!0,sort:!0,display:!1,customBodyRender:function(e){return Ye()(new Date(e)).format(Ve)}}},{name:"end",label:"End Date",viewColumns:!1,options:{filter:!0,sort:!0,display:!1,customBodyRender:function(e){return Ye()(new Date(e)).format(Ve)}}},{name:"distance",label:"Dist",options:{filter:!0,sort:!0,width:"5%"}},{name:"id",label:"Action",options:{sort:!1,filter:!1,viewColumns:!1,display:!0===a,customBodyRender:function(e,t){t.rowData[1];var a=t.rowData[2];return Object(n.jsx)(v.a,{variant:"contained",color:"secondary",size:"small",disabled:"DN"===a||"CL"===a,style:{marginLeft:2,minWidth:"70px"},className:"button",value:e,onClick:function(){c(e)},children:"CL"!==a?"Reject":"Cancelled"})}}},{name:"id",label:"Confirm",options:{sort:!1,filter:!1,viewColumns:!1,display:!0===a,customBodyRender:function(e,t){var a=t.rowData[2];return Object(n.jsx)(v.a,{variant:"contained",color:"default",size:"small",disabled:"DN"===a||"CL"===a,style:{marginLeft:2,minWidth:"90px"},className:"button",value:e,onClick:function(){r(e)},children:"DN"!==a?"COMPLETE":"DONE"})}}},{name:"id",label:"Action",options:{sort:!1,filter:!1,viewColumns:!1,display:!a,customBodyRender:function(e,t){t.rowData[1];var a=t.rowData[2];return Object(n.jsx)(v.a,{variant:"contained",color:"primary",size:"small",disabled:"OP"!==a,style:{marginLeft:2,backgroundColor:"OP"!==a?"lightgrey":"green"},className:"button",value:e,onClick:function(){s(e)},children:"Accept"})}}},{name:"id",label:" Task Detail",options:{filter:!1,sort:!1,viewColumns:!1,customBodyRender:function(e,t,a){return Object(n.jsx)(v.a,{variant:"contained",color:"primary",size:"small",style:{marginLeft:2,minWidth:"70px"},value:e,onClick:function(t){i(t,e)},children:"View"})}}}];return Object(n.jsx)(Ue.a,{theme:Object(Me.a)({overrides:{MuiDataTable:{root:{width:"min-content"},responsiveScroll:{maxHeight:"none"}},MUIDataTableToolbar:{root:{background:"#AAF"}},MUIDataTableBodyCell:{root:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",position:"relative",backgroundColor:"#FFF"}}}}),children:Object(n.jsx)(qe.a,{title:!1===a?"New Tasks":"My Pending Tasks",data:t,columns:o,options:Ge})})}var Ke=a(741),Qe=Object(b.a)((function(e){return{h5:{color:"#4C4B51",textAlign:"center"}}}));function Xe(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1];Object(s.useEffect)((function(){he.a.get("http://localhost:8000/api/tasks").then((function(e){var t=e.data;console.log(t);var a=t.map((function(e){var t;return{id:"".concat(e.id),lastName:"".concat(e.owner.last_name),firstName:"".concat(e.owner.first_name),taskType:"".concat(e.task_type),taskDetails:"".concat(e.description),start:"".concat(e.start_time),end:"".concat(e.end_time),distance:"".concat(e.id),volId:"".concat(null===(t=e.volunteer)||void 0===t?void 0:t.id),status:"".concat(e.status)}}));c(a),console.log("tasks"),console.log(a)})).catch((function(e){console.log("error"),console.log(e.request),console.log(e.config),console.log(e.message)}))}),[]),console.log("database json out "),console.log(a);var r=Qe(),o=a?a.filter((function(e){return"AS"===e.status||"CL"===e.status})):null,l=a.filter((function(e){return"OP"===e.status})),d=Object(s.useState)(!1),b=Object(u.a)(d,2),p=b[0],h=b[1],m=Object(s.useState)(!1),O=Object(u.a)(m,2),x=O[0],f=O[1],g=i.a.useState(!1),y=Object(u.a)(g,2),w=y[0],k=y[1],C=i.a.useState(null),D=Object(u.a)(C,2),T=D[0],S=D[1],N=Object(s.useState)({isOpen:!1,message:" ",type:" "}),P=Object(u.a)(N,2),R=P[0],F=P[1],I=Object(s.useState)({isOpen:!1,title:"",subTitle:""}),A=Object(u.a)(I,2),L=A[0],W=A[1],B=function(e,t){var n=a.find((function(e){return e.id===t}));console.log(n),null!=n&&function(e,t){k(!0),S(t)}(0,n)},_=function(e){W({isOpen:!0,title:"Are you sure to return your assigned Task?",subTitle:"Once rejected it will be unassigned from you.To reassign the task you need to go to search task and accept it again.",onConfirm:function(){W(Object(j.a)(Object(j.a)({},L),{},{isOpen:!1}));var t=a.map((function(t){return t.id===e?Object(j.a)(Object(j.a)({},t),{},{volId:null,status:"OP"}):t}));c(t),console.log("myTask"),console.log(o),console.log("assignTasks"),console.log(l),console.log(a),F({isOpen:!0,message:"Task is unssigned from you",type:"warning"})}})},H=function(e){W({isOpen:!0,title:"Do you agree to accept this task?",subTitle:"Once accepted it will be assigned to you.To return the task you need to go to your task list and reject it.",onConfirm:function(){W(Object(j.a)(Object(j.a)({},L),{},{isOpen:!1}));var t=a.map((function(t){return t.id===e?Object(j.a)(Object(j.a)({},t),{},{volId:4,status:"AS"}):t}));c(t),console.log("assignTasks"),console.log(l),console.log("myTask"),console.log(o),console.log(a),F({isOpen:!0,message:"Task is successfully assigned to you.",type:"success"})}})},E=function(e){W({isOpen:!0,title:"Have you completed this task?",subTitle:"Once completed it will be marked as done will be removed from your list.",onConfirm:function(){W(Object(j.a)(Object(j.a)({},L),{},{isOpen:!1}));var t=a.map((function(t){return t.id===e?Object(j.a)(Object(j.a)({},t),{},{status:"DN"}):t}));c(t),console.log("assignTasks"),console.log(l),console.log("myTask"),console.log(o),console.log(a),F({isOpen:!0,message:"Task is successfully marked as completed",type:"success"})}})};return Object(n.jsx)(i.a.Fragment,{children:Object(n.jsxs)("div",{style:{height:"100%"},children:[Object(n.jsxs)(z.a,{id:"tasks",container:!0,spacing:2,direction:"row",justify:"center",children:[!p&&Object(n.jsxs)(z.a,{className:"my-tasks",item:!0,xs:12,sm:6,align:"right",children:[Object(n.jsxs)(Ke.a,{smUp:!0,children:[Object(n.jsx)(v.a,{variant:"contained",color:"default",size:"small",onClick:function(){h(!0),f(!1)},children:"Search New Tasks"})," "]}),Object(n.jsx)("h4",{className:r.h5,children:"My Assigned Tasks"}),Object(n.jsx)(Je,{taskListData:o,isMyTask:!0,handleAccept:H,handleReject:_,handleView:B,handleComplete:E})]}),!x&&Object(n.jsxs)(z.a,{className:"new-tasks",item:!0,xs:12,sm:6,align:"right",children:[Object(n.jsxs)(Ke.a,{smUp:!0,children:[" ",Object(n.jsx)(v.a,{variant:"contained",color:"default",size:"small",onClick:function(){f(!0),h(!1)},children:"View My Tasks"})]}),Object(n.jsx)("h4",{className:r.h5,children:"Search New Tasks"}),Object(n.jsx)(Je,{taskListData:l,isMyTask:!1,handleAccept:H,handleReject:_,handleView:B,handleComplete:E})]})]}),Object(n.jsx)(Ae,{open:w,handleClose:function(){k(!1),S(null)},title:"Task Summary",data:T}),Object(n.jsx)(Be,{notify:R,setNotify:F}),Object(n.jsx)(He,{confirmDialog:L,setConfirmDialog:W})]})})}var Ze=a(408),$e=a.n(Ze),et=a(410),tt=a.n(et),at=a(412),nt=a.n(at),st=a(409),it=a.n(st),ct=a(411),rt=a.n(ct),ot=a(413),lt=a.n(ot),dt=a(415),ut=Object(b.a)({p:{margin:"10px 2px 10px 2px"},root:{padding:"8px 0px 8px 0px"}});var jt=function(e){var t=e.open,a=e.handleClose,i=e.taskType,c=e.addTask,r=e.defaultValues,o=e.updateTask,l=e.updTaskId;console.log("Task update dialog with id: ",l),Object(s.useEffect)((function(){p(r)}),[r]);var d=function(e){return e.getFullYear()+"-"+(1+e.getMonth()).toString().padStart(2,"0")+"-"+e.getDate().toString().padStart(2,"0")},u=Object(dt.a)({defaultValues:r,mode:"all"}),j=u.register,b=u.handleSubmit,p=u.reset,h=u.errors,m=u.watch,O=u.setValue,x=u.clearErrors,f=function(){p(),a()},y=m(),w=function(e,t,a){var n={};return n.task_type={Shopping:"GRO",Pharmacy:"PHA","Dog Walking":"DOG",Hospital:"HOS",Chat:"CHAT",Other:"ANY"}[i],n.description=e.taskDetails||null,n.dbs_needed=e.dbsReq,n.start_time=t,n.end_time=a,console.log("item created: ",n),n},k=ut(),C="Required field";return Object(n.jsx)("div",{children:Object(n.jsx)(Te.a,{open:t,onClose:f,fullWidth:!0,maxWidth:"sm",children:Object(n.jsxs)("form",{onSubmit:b((function(e){var t=new Date(e.startDate+"T"+e.startTime),a=new Date(e.endDate+"T"+e.endTime),n=w(e,t,a);he.a.post("/api/tasks/",n).catch((function(e){console.log(e.request),console.log(e.config)})),c({taskType:i,taskDetails:e.taskDetails,start:t,end:a}),console.log("onSubmit: updTaskId: ",l),l<0?c({taskType:i,taskDetails:e.taskDetails,start:t,end:a}):o({taskType:i,taskDetails:e.taskDetails,start:t,end:a},l),f()})),children:[Object(n.jsx)(Se.a,{id:"dialog-add-task",children:{Shopping:"Shopping",Pharmacy:"Collect medicine","Dog Walking":"Dog Walking",Hospital:"Visit Hospital Appointment",Chat:"Friendly Chat",Other:"I need help with ..."}[i]}),Object(n.jsxs)(Ne.a,{children:[Object(n.jsx)(Z.a,{id:"taskDetails",name:"taskDetails",inputRef:j({required:["Shopping","Other"].includes(i)}),label:"Details",multiline:!0,rows:5,variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},error:h.taskDetails,helperText:h.taskDetails&&"Details are required for this task type"}),Object(n.jsxs)("p",{className:k.p,children:[Object(n.jsx)("br",{}),"Set dates when you need it: ",Object(n.jsx)("br",{}),Object(n.jsx)(g.a,{variant:"caption",children:"Providing wider time window will increase your chances to find a volunteer."})]}),Object(n.jsxs)(z.a,{id:"start-time",container:!0,spacing:3,children:[Object(n.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{inputRef:j({required:C}),id:"startDate",name:"startDate",label:"Starting from",type:"date",margin:"dense",fullWidth:!0,inputProps:{min:d(new Date)},onChange:function(e){e.target.value&&(!y.endDate||y.endDate&&y.endDate<e.target.value)&&O("endDate",e.target.value)},InputLabelProps:{shrink:!0},error:h.hasOwnProperty("startDate"),helperText:h.startDate&&h.startDate.message})}),Object(n.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{inputRef:j({required:C}),type:"time",id:"startTime",name:"startTime",label:"Time",margin:"dense",fullWidth:!0,InputLabelProps:{shrink:!0},error:h.hasOwnProperty("startTime"),helperText:h.startTime&&h.startTime.message})})]}),Object(n.jsxs)(z.a,{id:"finish-time",container:!0,spacing:3,children:[Object(n.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{inputRef:j({required:C}),type:"date",margin:"dense",inputProps:{min:d(new Date)},id:"endDate",name:"endDate",label:"Ending at",fullWidth:!0,onChange:function(e){e.target.value&&y.startDate&&y.startDate>e.target.value&&O("startDate",e.target.value)},InputLabelProps:{shrink:!0},error:h.hasOwnProperty("endDate"),helperText:h.endDate&&h.endDate.message})}),Object(n.jsx)(z.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Z.a,{inputRef:j({required:C,validate:function(){var e=new Date(y.startDate+"T"+y.startTime),t=new Date(y.endDate+"T"+y.endTime);if(y.startDate&&y.startTime&&y.endDate&&y.endTime)return e.setMinutes(e.getMinutes()+30)>t?"Not enough time to complete your task. Consider at least 30 minutes.":void 0;x("endTime")}}),type:"time",id:"endTime",name:"endTime",label:"Time",margin:"dense",fullWidth:!0,InputLabelProps:{shrink:!0},error:h.hasOwnProperty("endTime"),helperText:h.endTime&&h.endTime.message})})]})]}),Object(n.jsxs)(Pe.a,{children:[Object(n.jsx)(v.a,{onClick:f,color:"primary",children:"Cancel"}),Object(n.jsx)(v.a,{type:"Submit",color:"primary",children:"Add"})]})]})})})};function bt(e){var t=e.taskList,a=e.handleCopy,s=e.handleEdit,c=e.handleRemove,r=[{name:"id",label:"ID",width:"5%",options:{display:!1,sort:!0,filter:!1}},{name:"taskType",label:"Task Type",options:{filter:!0,sort:!0,width:"10%"}},{name:"taskDetails",label:" Task Detail",options:{display:!0,filter:!1,sort:!1,width:"15%",customBodyRender:function(e){return e.slice(0,30)+(e.length>30?"...":"")}}},{name:"start",label:"Start Time",options:{filter:!0,sort:!0,width:"10%",customBodyRender:function(e){return Ye()(e).format("lll")}}},{name:"end",label:"End Time",options:{filter:!0,sort:!0,width:"10%",customBodyRender:function(e){return Ye()(e).format("lll")}}},{name:"status",label:"State",options:{filter:!0,sort:!0,width:"10%"}},{name:"id",label:"Actions",options:{sort:!1,filter:!1,width:"40%",customBodyRender:function(e,t){return Object(n.jsxs)("div",{children:[Object(n.jsx)(v.a,{variant:"contained",color:"primary",size:"small",className:"button",onClick:function(){console.log(t.rowData[0]),a(t.rowData[0])},children:"Copy"}),["Open","Expired"].includes(t.rowData[5])?Object(n.jsx)(v.a,{variant:"contained",color:"default",size:"small",className:"button",style:{marginLeft:10},onClick:function(){console.log(t.rowData[0]),s(t.rowData[0])},children:"Edit"}):null,["Open"].includes(t.rowData[5])?Object(n.jsx)(v.a,{variant:"contained",color:"secondary",size:"small",className:"button",style:{marginLeft:10},onClick:function(){console.log(t.rowData[0]),c(t.rowData[0])},children:"Cancel"}):null]})}}}];return Object(n.jsx)(i.a.Fragment,{children:Object(n.jsx)(Ue.a,{theme:Object(Me.a)({overrides:{MuiPaper:{root:{margin:"20px 0px 0px 0px"}},MuiTableCell:{root:{padding:"5px 5px 5px 15px"}},MUIDataTableToolbar:{root:{background:"#AAF"}},MUIDataTableHeadCell:{root:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",position:"relative"}},MUIDataTableBodyCell:{root:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",position:"relative"}}}}),children:Object(n.jsx)(qe.a,{title:"All Tasks",data:t,columns:r,options:{selectableRows:"none",print:!1,download:!1,rowsPerPage:20,rowsPerPageOptions:[5,10,20],sortOrder:{name:"start",direction:"desc"}}})})})}var pt=Object(b.a)({h1:{color:"#4C4B51"},largeButton:{border:5,color:"#FF8E53",padding:"15px",margin:"15px",height:100,width:110},largeIcon:{fontSize:60},label:{flexDirection:"column"},icon:{fontSize:"32px !important",marginBottom:5}});var ht=function(){var e=Object(s.useState)((Date.prototype.addHours=function(e){return this.setHours(this.getHours()+e),this},[{id:1,taskType:"Shopping",taskDetails:"I need help with Shopping from Tesco",start:(new Date).addHours(2),end:(new Date).addHours(4),status:"Cancelled"},{id:2,taskType:"Dog Walking",taskDetails:"I need help with dog walkingevery morning and afternoon",start:(new Date).addHours(5),end:(new Date).addHours(10),status:"Open"},{id:3,taskType:"Shopping",taskDetails:"I need help with Shopping from Asda",start:(new Date).addHours(20),end:(new Date).addHours(24),status:"Assigned"},{id:4,taskType:"Pharmacy",taskDetails:"I need help with picking up my prescription from local gp",start:(new Date).addHours(-20),end:(new Date).addHours(-16),status:"Expired"},{id:5,taskType:"Hospital",taskDetails:"I need help to drop off and pick up from my hospital",start:(new Date).addHours(-100),end:(new Date).addHours(-80),status:"Completed"},{id:6,taskType:"Phone Call",taskDetails:"I need someone to give me a call to have a chat",start:(new Date).addHours(20),end:(new Date).addHours(40),status:"Open"},{id:8,taskType:"Other",taskDetails:"I need help with mowing my garden",start:(new Date).addHours(-5),end:(new Date).addHours(4),status:"Open"},{id:9,taskType:"Shopping",taskDetails:"I need help with Shopping from Sainsbuyrys",start:new Date(2020,11,10,10),end:new Date(2020,11,10,16),status:"Expired"}])),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(s.useState)(11),o=Object(u.a)(r,2),l=o[0],d=o[1],b={taskDetails:"",startDate:null,startTime:"08:00",endDate:null,endTime:"20:00"},p=i.a.useState(!1),h=Object(u.a)(p,2),m=h[0],O=h[1],x=i.a.useState(null),f=Object(u.a)(x,2),g=f[0],y=f[1],w=i.a.useState(b),k=Object(u.a)(w,2),C=k[0],D=k[1],T=i.a.useState(-1),S=Object(u.a)(T,2),N=S[0],P=S[1],R=function(e,t){y(t),O(!0)},F=pt();return Object(n.jsxs)("div",{className:"centered",children:[Object(n.jsx)("h1",{children:"I need help with..."}),Object(n.jsxs)(v.a,{classes:{root:F.largeButton,label:F.label},onClick:function(e){return R(0,"Shopping")},children:[Object(n.jsx)($e.a,{className:F.largeIcon}),"Shopping"]}),Object(n.jsxs)(v.a,{classes:{root:F.largeButton,label:F.label},onClick:function(e){return R(0,"Pharmacy")},children:[Object(n.jsx)(it.a,{className:F.largeIcon}),"Pharmacy"]}),Object(n.jsxs)(v.a,{classes:{root:F.largeButton,label:F.label},onClick:function(e){return R(0,"Dog Walking")},children:[Object(n.jsx)(tt.a,{className:F.largeIcon}),"Dog Walk"]}),Object(n.jsxs)(v.a,{classes:{root:F.largeButton,label:F.label},onClick:function(e){return R(0,"Hospital")},children:[Object(n.jsx)(rt.a,{className:F.largeIcon}),"Hospital"]}),Object(n.jsxs)(v.a,{classes:{root:F.largeButton,label:F.label},onClick:function(e){return R(0,"Chat")},children:[Object(n.jsx)(nt.a,{className:F.largeIcon}),"Chat"]}),Object(n.jsxs)(v.a,{classes:{root:F.largeButton,label:F.label},onClick:function(e){return R(0,"Other")},children:[Object(n.jsx)(lt.a,{className:F.largeIcon}),"Other"]}),Object(n.jsx)(jt,{open:m,handleClose:function(){y(null),O(!1),D(b),P(-1)},taskType:g,addTask:function(e){e.id=l,d(l+1),e.status="Open";var t=[].concat(Object(je.a)(a),[e]);c(t)},defaultValues:C,updateTask:function(e,t){if(t<0)console.log("ERROR: task to be updated does not exists");else{e.end>new Date&&(e.status="Open"),e.id=t;var n=a.filter((function(e){return e.id!==t}));n=[].concat(Object(je.a)(n),[e]),c(n)}},updTaskId:N}),Object(n.jsx)(bt,{taskList:a,handleCopy:function(e){var t=a.find((function(t){return t.id===e}));y(t.taskType),D(Object(j.a)(Object(j.a)({},C),{},{taskDetails:t.taskDetails})),O(!0)},handleEdit:function(e){var t=a.find((function(t){return t.id===e}));y(t.taskType),D(Object(j.a)(Object(j.a)({},C),{},{taskDetails:t.taskDetails})),P(e),O(!0)},handleRemove:function(e){var t=Object(je.a)(a);t.find((function(t){return t.id===e})).status="Cancelled",c(t)}})]})},mt=function(){return Object(n.jsx)("div",{children:Object(n.jsx)(Xe,{})})},Ot=a(414);function xt(e){var t=e.component,a=Object(Ot.a)(e,["component"]),s=I().currentUser;return Object(n.jsx)(T.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return console.log(s),s?Object(n.jsx)(t,Object(j.a)({},e)):Object(n.jsx)(T.a,{to:"/"})}}))}var ft=function(){return Object(n.jsx)(S.a,{children:Object(n.jsx)(A,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(B,{}),Object(n.jsx)("div",{className:"AppContent",children:Object(n.jsxs)(T.d,{children:[Object(n.jsx)(T.b,{exact:!0,path:"/helpwhoneeds/",children:Object(n.jsx)(H,{})}),Object(n.jsx)(T.b,{path:"/about",children:Object(n.jsx)(V,{})}),Object(n.jsx)(T.b,{path:"/contact",children:Object(n.jsx)(G,{})}),Object(n.jsx)(T.b,{path:"/login/:userType",children:Object(n.jsx)(oe,{})}),Object(n.jsx)(T.b,{path:"/signup/:user",children:Object(n.jsx)(ue,{})}),Object(n.jsx)(T.b,{path:"/forgotpassword/:user",children:Object(n.jsx)(ke,{})}),Object(n.jsx)(T.b,{path:"/legal",children:Object(n.jsx)(E,{})}),Object(n.jsx)(T.b,{path:"/support",children:Object(n.jsx)(M,{})}),Object(n.jsx)(T.b,{path:"/cookie",children:Object(n.jsx)(q,{})}),Object(n.jsx)(T.b,{path:"/contact",children:Object(n.jsx)(G,{})}),Object(n.jsx)(T.b,{path:"/termconditions",children:Object(n.jsx)(U,{})}),Object(n.jsx)(T.b,{path:"/requestee/tasks",children:Object(n.jsx)(ht,{})}),Object(n.jsx)(xt,{path:"/profile",component:ve}),Object(n.jsx)(xt,{path:"/registrationpage/:user",component:De}),Object(n.jsx)(xt,{path:"/searchtask",component:Xe}),Object(n.jsx)(xt,{path:"/mytask",component:mt}),Object(n.jsx)(xt,{path:"/addtask",component:ht})]})}),Object(n.jsx)(K,{})]})})})},gt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,744)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),i(e),c(e)}))};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(ft,{})}),document.getElementById("root")),gt()}},[[699,1,2]]]);
//# sourceMappingURL=main.95d82af4.chunk.js.map